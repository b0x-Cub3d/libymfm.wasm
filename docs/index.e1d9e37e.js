function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=r.parcelRequire546c;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},r.parcelRequire546c=o),o.register("bXuNP",(function(e,r){var n,i;t(e.exports,"register",(()=>n),(t=>n=t)),t(e.exports,"resolve",(()=>i),(t=>i=t));var o={};n=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)o[e[r]]=t[e[r]]},i=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o("bXuNP").register(JSON.parse('{"da2qu":"index.e1d9e37e.js","bktC1":"libymfm_bg.146334f7.wasm"}')),o.register("7uvfJ",(function(e,r){let n;function i(t){n=t}t(e.exports,"setWasmExport",(()=>i)),t(e.exports,"WgmPlay",(()=>E)),t(e.exports,"__wbg_new_59cb74e423758ede",(()=>S)),t(e.exports,"__wbg_stack_558ba5917b466edd",(()=>I)),t(e.exports,"__wbg_error_4bb6c2a97407129a",(()=>m)),t(e.exports,"__wbindgen_object_drop_ref",(()=>A)),t(e.exports,"__wbindgen_throw",(()=>v));const o=new Array(32).fill(void 0);function s(t){return o[t]}o.push(void 0,null,!0,!1);let a=o.length;function f(t){const e=s(t);return function(t){t<36||(o[t]=a,a=t)}(t),e}let u=new("undefined"==typeof TextDecoder?e.require("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});u.decode();let h=null;function c(){return null!==h&&h.buffer===n.memory.buffer||(h=new Uint8Array(n.memory.buffer)),h}function l(t,e){return u.decode(c().subarray(t,t+e))}let p=null;function d(){return null!==p&&p.buffer===n.memory.buffer||(p=new Int32Array(n.memory.buffer)),p}let _=0;let y=new("undefined"==typeof TextEncoder?e.require("util").TextEncoder:TextEncoder)("utf-8");const g="function"==typeof y.encodeInto?function(t,e){return y.encodeInto(t,e)}:function(t,e){const r=y.encode(t);return e.set(r),{read:t.length,written:r.length}};class E{static __wrap(t){const e=Object.create(E.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();n.__wbg_wgmplay_free(t)}constructor(t,e,r){var i=n.wgmplay_from(t,e,r);return E.__wrap(i)}get_seq_data_ref(){return n.wgmplay_get_seq_data_ref(this.ptr)}get_sampling_l_ref(){return n.wgmplay_get_sampling_l_ref(this.ptr)}get_sampling_r_ref(){return n.wgmplay_get_sampling_r_ref(this.ptr)}get_seq_header(){try{const r=n.__wbindgen_add_to_stack_pointer(-16);n.wgmplay_get_seq_header(r,this.ptr);var t=d()[r/4+0],e=d()[r/4+1];return l(t,e)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,e)}}get_seq_gd3(){try{const r=n.__wbindgen_add_to_stack_pointer(-16);n.wgmplay_get_seq_gd3(r,this.ptr);var t=d()[r/4+0],e=d()[r/4+1];return l(t,e)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,e)}}init(){return 0!==n.wgmplay_init(this.ptr)}play(){return n.wgmplay_play(this.ptr)>>>0}}function S(){return function(t){a===o.length&&o.push(o.length+1);const e=a;return a=o[e],o[e]=t,e}(new Error)}function I(t,e){var r=function(t,e,r){if(void 0===r){const r=y.encode(t),n=e(r.length);return c().subarray(n,n+r.length).set(r),_=r.length,n}let n=t.length,i=e(n);const o=c();let s=0;for(;s<n;s++){const e=t.charCodeAt(s);if(e>127)break;o[i+s]=e}if(s!==n){0!==s&&(t=t.slice(s)),i=r(i,n,n=s+3*t.length);const e=c().subarray(i+s,i+n);s+=g(t,e).written}return _=s,i}(s(e).stack,n.__wbindgen_malloc,n.__wbindgen_realloc),i=_;d()[t/4+1]=i,d()[t/4+0]=r}function m(t,e){try{console.error(l(t,e))}finally{n.__wbindgen_free(t,e)}}function A(t){f(t)}function v(t,e){throw new Error(l(t,e))}}));var s=o("7uvfJ");function a(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},a(t,e)}function f(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function u(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function h(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;t=r.call(t);var n,i=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)i.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}var l="undefined"!=typeof globalThis?globalThis:void 0!==r?r:{},p="undefined"!=typeof BigInt?BigInt:l.BigInt||Number,d=DataView;d.prototype.setBigUint64||(d.prototype.setBigUint64=function(t,e,r){if(e<Math.pow(2,32)){e=Number(e);var n=0}else{n=e.toString(2),e="";for(var i=0;i<64-n.length;i++)e+="0";e+=n,n=parseInt(e.substring(0,32),2),e=parseInt(e.substring(32),2)}this.setUint32(t+(r?0:4),e,r),this.setUint32(t+(r?4:0),n,r)},d.prototype.getBigUint64=function(t,e){var r=this.getUint32(t+(e?0:4),e);t=this.getUint32(t+(e?4:0),e),r=r.toString(2),t=t.toString(2),e="";for(var n=0;n<32-r.length;n++)e+="0";return p("0b"+t+(e+r))});var _=void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},y=[],g=[],E="undefined"!=typeof Uint8Array?Uint8Array:Array,S=!1;function I(){S=!0;for(var t=0;64>t;++t)y[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;g[45]=62,g[95]=63}function m(t,e,r){for(var n=[],i=e;i<r;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],n.push(y[e>>18&63]+y[e>>12&63]+y[e>>6&63]+y[63&e]);return n.join("")}function A(t){S||I();for(var e=t.length,r=e%3,n="",i=[],o=0,s=e-r;o<s;o+=16383)i.push(m(t,o,o+16383>s?s:o+16383));return 1===r?(t=t[e-1],n+=y[t>>2],n+=y[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=y[t>>10],n+=y[t>>4&63],n+=y[t<<2&63],n+="="),i.push(n),i.join("")}function v(t,e,r,n,i){var o=8*i-n-1,s=(1<<o)-1,a=s>>1,f=-7,u=r?-1:1,h=t[e+(i=r?i-1:0)];for(i+=u,r=h&(1<<-f)-1,h>>=-f,f+=o;0<f;r=256*r+t[e+i],i+=u,f-=8);for(o=r&(1<<-f)-1,r>>=-f,f+=n;0<f;o=256*o+t[e+i],i+=u,f-=8);if(0===r)r=1-a;else{if(r===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),r-=a}return(h?-1:1)*o*Math.pow(2,r-n)}function w(t,e,r,n,i,o){var s,a=8*o-i-1,f=(1<<a)-1,u=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var c=n?1:-1,l=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=f):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+u?e+h/s:e+h*Math.pow(2,1-u))*s&&(n++,s/=2),n+u>=f?(e=0,n=f):1<=n+u?(e=(e*s-1)*Math.pow(2,i),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,i),n=0));8<=i;t[r+o]=255&e,o+=c,e/=256,i-=8);for(n=n<<i|e,a+=i;0<a;t[r+o]=255&n,o+=c,n/=256,a-=8);t[r+o-c]|=128*l}var T={}.toString,b=Array.isArray||function(t){return"[object Array]"==T.call(t)};N.TYPED_ARRAY_SUPPORT=void 0===_.TYPED_ARRAY_SUPPORT||_.TYPED_ARRAY_SUPPORT;var R=N.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function O(t,e){if((N.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return N.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=N.prototype:(null===t&&(t=new N(e)),t.length=e),t}function N(t,e,r){if(!(N.TYPED_ARRAY_SUPPORT||this instanceof N))return new N(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return P(this,t)}return L(this,t,e,r)}function L(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),N.TYPED_ARRAY_SUPPORT?(t=e).__proto__=N.prototype:t=W(t,e),t}if("string"==typeof e){if(n=t,"string"==typeof(t=r)&&""!==t||(t="utf8"),!N.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(n=O(n,r=0|F(e,t))).write(e,t))!==r&&(n=n.slice(0,e)),n}return function(t,e){if(B(e)){var r=0|D(e.length);return 0===(t=O(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=(r=e.length)!=r),r?O(t,0):W(t,e);if("Buffer"===e.type&&b(e.data))return W(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function C(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function P(t,e){if(C(e),t=O(t,0>e?0:0|D(e)),!N.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function W(t,e){var r=0>e.length?0:0|D(e.length);t=O(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function D(t){if(t>=(N.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(N.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function B(t){return!(null==t||!t._isBuffer)}function F(t,e){if(B(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(t).length;default:if(n)return X(t).length;e=(""+e).toLowerCase(),n=!0}}function U(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;r<e;++r)n=(t=n)+(n=16>(n=this[r])?"0"+n.toString(16):n.toString(16));return n;case"utf8":case"utf-8":return H(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return e=0===e&&r===this.length?A(this):A(this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function M(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function k(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof e&&(e=N.from(e,n)),B(e))return 0===e.length?-1:G(t,e,r,n,i);if("number"==typeof e)return e&=255,N.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):G(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function G(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,f/=2,r/=2}if(i)for(n=-1;r<a;r++)if(o(t,r)===o(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===f)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+f>a&&(r=a-f);0<=r;r--){for(a=!0,n=0;n<f;n++)if(o(t,r+n)!==o(e,n)){a=!1;break}if(a)return r}return-1}function H(t,e,r){r=Math.min(t.length,r);for(var n=[];e<r;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=r)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&(127<(i=(31&i)<<6|63&a)&&(o=i));break;case 3:a=t[e+1];var f=t[e+2];128==(192&a)&&128==(192&f)&&(2047<(i=(15&i)<<12|(63&a)<<6|63&f)&&(55296>i||57343<i)&&(o=i));break;case 4:a=t[e+1],f=t[e+2];var u=t[e+3];128==(192&a)&&128==(192&f)&&128==(192&u)&&(65535<(i=(15&i)<<18|(63&a)<<12|(63&f)<<6|63&u)&&1114112>i&&(o=i))}null===o?(o=65533,s=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),e+=s}if((t=n.length)<=x)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;e<t;)r+=String.fromCharCode.apply(String,n.slice(e,e+=x));n=r}return n}N.poolSize=8192,N._augment=function(t){return t.__proto__=N.prototype,t},N.from=function(t,e,r){return L(null,t,e,r)},N.TYPED_ARRAY_SUPPORT&&(N.prototype.__proto__=Uint8Array.prototype,N.__proto__=Uint8Array),N.alloc=function(t,e,r){return C(t),t=0>=t?O(null,t):void 0!==e?"string"==typeof r?O(null,t).fill(e,r):O(null,t).fill(e):O(null,t)},N.allocUnsafe=function(t){return P(null,t)},N.allocUnsafeSlow=function(t){return P(null,t)},N.isBuffer=Q,N.compare=function(t,e){if(!B(t)||!B(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},N.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},N.concat=function(t,e){if(!b(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return N.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;e=N.allocUnsafe(e);var n=0;for(r=0;r<t.length;++r){var i=t[r];if(!B(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,n),n+=i.length}return e},N.byteLength=F,N.prototype._isBuffer=!0,N.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)M(this,e,e+1);return this},N.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)M(this,e,e+3),M(this,e+1,e+2);return this},N.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)M(this,e,e+7),M(this,e+1,e+6),M(this,e+2,e+5),M(this,e+3,e+4);return this},N.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?H(this,0,t):U.apply(this,arguments)},N.prototype.equals=function(t){if(!B(t))throw new TypeError("Argument must be a Buffer");return this===t||0===N.compare(this,t)},N.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},N.prototype.compare=function(t,e,r,n,i){if(!B(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>e||r>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s);for(n=this.slice(n,i),t=t.slice(e,r),e=0;e<a;++e)if(n[e]!==t[e]){o=n[e],s=t[e];break}return o<s?-1:s<o?1:0},N.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},N.prototype.indexOf=function(t,e,r){return k(this,t,e,r,!0)},N.prototype.lastIndexOf=function(t,e,r){return k(this,t,e,r,!1)},N.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r))>n&&(r=n):r=n,0!=(n=t.length)%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(t.substr(2*n,2),16),isNaN(i)){t=n;break t}this[e+n]=i}t=n}return t;case"utf8":case"utf-8":return $(X(t,this.length-e),this,e,r);case"ascii":case"latin1":case"binary":return $(J(t),this,e,r);case"base64":return $(Z(t),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=t,i=this.length-e;for(var o=[],s=0;s<n.length&&!(0>(i-=2));++s){var a=n.charCodeAt(s);t=a>>8,a%=256,o.push(a),o.push(t)}return $(o,this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function Y(t,e,r){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,n,i,o){if(!B(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function V(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function K(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function q(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}N.prototype.slice=function(t,e){var r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),N.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=N.prototype;else{e=new N(r=e-t,void 0);for(var n=0;n<r;++n)e[n]=this[n+t]}return e},N.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||Y(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},N.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||Y(t,e,this.length),r=this[t+--e];for(var n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},N.prototype.readUInt8=function(t,e){return e||Y(t,1,this.length),this[t]},N.prototype.readUInt16LE=function(t,e){return e||Y(t,2,this.length),this[t]|this[t+1]<<8},N.prototype.readUInt16BE=function(t,e){return e||Y(t,2,this.length),this[t]<<8|this[t+1]},N.prototype.readUInt32LE=function(t,e){return e||Y(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},N.prototype.readUInt32BE=function(t,e){return e||Y(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},N.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||Y(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},N.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||Y(t,e,this.length),r=e;for(var n=1,i=this[t+--r];0<r&&(n*=256);)i+=this[t+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*e)),i},N.prototype.readInt8=function(t,e){return e||Y(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},N.prototype.readInt16LE=function(t,e){return e||Y(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},N.prototype.readInt16BE=function(t,e){return e||Y(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},N.prototype.readInt32LE=function(t,e){return e||Y(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},N.prototype.readInt32BE=function(t,e){return e||Y(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},N.prototype.readFloatLE=function(t,e){return e||Y(t,4,this.length),v(this,t,!0,23,4)},N.prototype.readFloatBE=function(t,e){return e||Y(t,4,this.length),v(this,t,!1,23,4)},N.prototype.readDoubleLE=function(t,e){return e||Y(t,8,this.length),v(this,t,!0,52,8)},N.prototype.readDoubleBE=function(t,e){return e||Y(t,8,this.length),v(this,t,!1,52,8)},N.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||j(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},N.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||j(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)this[e+n]=t/i&255;return e+r},N.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,255,0),N.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},N.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),N.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},N.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),N.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},N.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),N.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):K(this,t,e,!0),e+4},N.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),N.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):K(this,t,e,!1),e+4},N.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||j(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n),n=0;var i=1,o=0;for(this[e]=255&t;++n<r&&(i*=256);)0>t&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/i>>0)-o&255;return e+r},N.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||j(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=1,o=0;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)0>t&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/i>>0)-o&255;return e+r},N.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,127,-128),N.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},N.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),N.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},N.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),N.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},N.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),N.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):K(this,t,e,!0),e+4},N.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),N.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):K(this,t,e,!1),e+4},N.prototype.writeFloatLE=function(t,e,r){return r||q(this,0,e,4),w(this,t,e,!0,23,4),e+4},N.prototype.writeFloatBE=function(t,e,r){return r||q(this,0,e,4),w(this,t,e,!1,23,4),e+4},N.prototype.writeDoubleLE=function(t,e,r){return r||q(this,0,e,8),w(this,t,e,!0,52,8),e+8},N.prototype.writeDoubleBE=function(t,e,r){return r||q(this,0,e,8),w(this,t,e,!1,52,8),e+8},N.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&r<e&&e<n)for(n=i-1;0<=n;--n)t[n+e]=this[n+r];else if(1e3>i||!N.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},N.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!N.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else for(i=(t=B(t)?t:X(new N(t,n).toString())).length,n=0;n<r-e;++n)this[n+e]=t[n%i];return this};var z=/[^+\/0-9A-Za-z-_]/g;function X(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--e)break;o.push(r)}else if(2048>r){if(0>(e-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function J(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function Z(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(z,"")).length)t="";else for(;0!=t.length%4;)t+="=";S||I();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===t[e-2]?2:"="===t[e-1]?1:0,n=new E(3*e/4-r),i=0<r?e-4:e,o=0;for(e=0;e<i;e+=4){var s=g[t.charCodeAt(e)]<<18|g[t.charCodeAt(e+1)]<<12|g[t.charCodeAt(e+2)]<<6|g[t.charCodeAt(e+3)];n[o++]=s>>16&255,n[o++]=s>>8&255,n[o++]=255&s}return 2===r?(s=g[t.charCodeAt(e)]<<2|g[t.charCodeAt(e+1)]>>4,n[o++]=255&s):1===r&&(s=g[t.charCodeAt(e)]<<10|g[t.charCodeAt(e+1)]<<4|g[t.charCodeAt(e+2)]>>2,n[o++]=s>>8&255,n[o++]=255&s),n}function $(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Q(t){return null!=t&&(!!t._isBuffer||tt(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&tt(t.slice(0,0)))}function tt(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var et=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:R,Buffer:N,SlowBuffer:function(t){return+t!=t&&(t=0),N.alloc(+t)},isBuffer:Q}),rt=N,nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{};function it(t,e){return t(e={exports:{}},e.exports),e.exports}function ot(){throw Error("setTimeout has not been defined")}function st(){throw Error("clearTimeout has not been defined")}var at=ot,ft=st;function ut(t){if(at===setTimeout)return setTimeout(t,0);if((at===ot||!at)&&setTimeout)return at=setTimeout,setTimeout(t,0);try{return at(t,0)}catch(e){try{return at.call(null,t,0)}catch(e){return at.call(this,t,0)}}}"function"==typeof _.setTimeout&&(at=setTimeout),"function"==typeof _.clearTimeout&&(ft=clearTimeout);var ht,ct=[],lt=!1,pt=-1;function dt(){lt&&ht&&(lt=!1,ht.length?ct=ht.concat(ct):pt=-1,ct.length&&_t())}function _t(){if(!lt){var t=ut(dt);lt=!0;for(var e=ct.length;e;){for(ht=ct,ct=[];++pt<e;)ht&&ht[pt].run();pt=-1,e=ct.length}ht=null,lt=!1,function(t){if(ft===clearTimeout)return clearTimeout(t);if((ft===st||!ft)&&clearTimeout)return ft=clearTimeout,clearTimeout(t);try{ft(t)}catch(e){try{return ft.call(null,t)}catch(e){return ft.call(this,t)}}}(t)}}function yt(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ct.push(new gt(t,e)),1!==ct.length||lt||ut(_t)}function gt(t,e){this.fun=t,this.array=e}gt.prototype.run=function(){this.fun.apply(null,this.array)};var Et=_.performance||{},St=(Et.now||Et.mozNow||Et.msNow||Et.oNow||Et.webkitNow,new Date,function(){return"/"}),It=it((function(t,e){function r(t,e){for(var r in t)e[r]=t[r]}function n(t,e,r){return i(t,e,r)}var i=et.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=et:(r(et,e),e.Buffer=n),n.prototype=Object.create(i.prototype),r(i,n),n.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},n.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");return t=i(t),void 0!==e?"string"==typeof r?t.fill(e,r):t.fill(e):t.fill(0),t},n.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},n.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return et.SlowBuffer(t)}})),mt=it((function(t,e){function r(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function n(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>u||0>t)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function i(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>u||0>t)throw new TypeError("size must be a uint32");if(t+e>r||t>a)throw new RangeError("buffer too small")}function o(t,e,r,n){if(e=new Uint8Array(t.buffer,e,r),f.getRandomValues(e),!n)return t;yt((function(){n(null,t)}))}var s=It.Buffer,a=It.kMaxLength,f=nt.crypto||nt.msCrypto,u=Math.pow(2,32)-1;f&&f.getRandomValues?(e.randomFill=function(t,e,r,a){if(!(s.isBuffer(t)||t instanceof nt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)a=e,e=0,r=t.length;else if("function"==typeof r)a=r,r=t.length-e;else if("function"!=typeof a)throw new TypeError('"cb" argument must be a function');return n(e,t.length),i(r,e,t.length),o(t,e,r,a)},e.randomFillSync=function(t,e,r){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof nt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return n(e,t.length),void 0===r&&(r=t.length-e),i(r,e,t.length),o(t,e,r)}):(e.randomFill=r,e.randomFillSync=r)})),At=it((function(t){t.exports=mt})).randomFillSync,vt=Math.floor(.001*(Date.now()-performance.now()));function wt(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Tt(t,e){for(var r,n="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(2>n.length||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){if((o=n.lastIndexOf("/"))!==n.length-1){-1===o?(n="",i=0):i=(n=n.slice(0,o)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}e&&(n=0<n.length?n+"/..":"..",i=2)}else n=0<n.length?n+"/"+t.slice(o+1,a):t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var bt,Rt={resolve:function(){for(var t,e="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){if(0<=n)var i=arguments[n];else void 0===t&&(t=St()),i=t;wt(i),0!==i.length&&(e=i+"/"+e,r=47===i.charCodeAt(0))}return e=Tt(e,!r),r?0<e.length?"/"+e:"/":0<e.length?e:"."},normalize:function(t){if(wt(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=Tt(t,!e)).length||e||(t="."),0<t.length&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return wt(t),0<t.length&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];wt(r),0<r.length&&(t=void 0===t?r:t+"/"+r)}return void 0===t?".":Rt.normalize(t)},relative:function(t,e){if(wt(t),wt(e),t===e)return"";if((t=Rt.resolve(t))===(e=Rt.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,i=n-r,o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length-o,a=i<s?i:s,f=-1,u=0;u<=a;++u){if(u===a){if(s>a){if(47===e.charCodeAt(o+u))return e.slice(o+u+1);if(0===u)return e.slice(o+u)}else i>a&&(47===t.charCodeAt(r+u)?f=u:0===u&&(f=0));break}var h=t.charCodeAt(r+u);if(h!==e.charCodeAt(o+u))break;47===h&&(f=u)}for(i="",u=r+f+1;u<=n;++u)u!==n&&47!==t.charCodeAt(u)||(i=0===i.length?i+"..":i+"/..");return 0<i.length?i+e.slice(o+f):(o+=f,47===e.charCodeAt(o)&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(wt(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;1<=o;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');wt(t);var r,n=0,i=-1,o=!0;if(void 0!==e&&0<e.length&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,a=-1;for(r=t.length-1;0<=r;--r){var f=t.charCodeAt(r);if(47===f){if(!o){n=r+1;break}}else-1===a&&(o=!1,a=r+1),0<=s&&(f===e.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=a))}return n===i?i=a:-1===i&&(i=t.length),t.slice(n,i)}for(r=t.length-1;0<=r;--r)if(47===t.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":t.slice(n,i)},extname:function(t){wt(t);for(var e=-1,r=0,n=-1,i=!0,o=0,s=t.length-1;0<=s;--s){var a=t.charCodeAt(s);if(47===a){if(!i){r=s+1;break}}else-1===n&&(i=!1,n=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);var e=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return t=e?e===t.root?e+r:e+"/"+r:r},parse:function(t){wt(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r=t.charCodeAt(0),n=47===r;if(n){e.root="/";var i=1}else i=0;for(var o=-1,s=0,a=-1,f=!0,u=t.length-1,h=0;u>=i;--u)if(47===(r=t.charCodeAt(u))){if(!f){s=u+1;break}}else-1===a&&(f=!1,a=u+1),46===r?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1);return-1===o||-1===a||0===h||1===h&&o===a-1&&o===s+1?-1!==a&&(e.base=e.name=0===s&&n?t.slice(1,a):t.slice(s,a)):(0===s&&n?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),0<s?e.dir=t.slice(0,s-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null},Ot=Rt.posix=Rt,Nt={hrtime:function(t){return t=function(t){var e=.001*performance.now(),r=Math.floor(e)+vt;return e=Math.floor(e%1*1e9),t&&(r-=t[0],0>(e-=t[1])&&(r--,e+=1e9)),[r,e]}(t),1e9*t[0]+t[1]},exit:function(t){throw new we(t)},kill:function(t){throw new Te(t)},randomFillSync:At,isTTY:function(){return!0},path:Object.freeze({__proto__:null,default:Ot,__moduleExports:Ot}),fs:null},Lt=p(1),Ct=p(2),Pt=p(4),Wt=p(8),Dt=p(16),Bt=p(32),Ft=p(64),Ut=p(128),Mt=p(256),kt=p(512),Gt=p(1024),Ht=p(2048),xt=p(4096),Yt=p(8192),jt=p(16384),Vt=p(32768),Kt=p(65536),qt=p(131072),zt=p(262144),Xt=p(524288),Jt=p(1048576),Zt=p(2097152),$t=p(4194304),Qt=p(8388608),te=p(16777216),ee=p(33554432),re=p(67108864),ne=p(134217728),ie=p(268435456),oe=Lt|Ct|Pt|Wt|Dt|Bt|Ft|Ut|Mt|kt|Gt|Ht|xt|Yt|jt|Vt|Kt|qt|zt|Xt|Jt|Zt|Qt|$t|te|re|ee|ne|ie,se=Lt|Ct|Pt|Wt|Dt|Bt|Ft|Ut|Mt|Zt|$t|Qt|ne,ae=p(0),fe=Wt|Dt|Ut|kt|Gt|Ht|xt|Yt|jt|Vt|Kt|qt|zt|Xt|Jt|Zt|Qt|te|re|ee|ne,ue=fe|se,he=Ct|Wt|Ft|Zt|ne|ie,ce=Ct|Wt|Ft|Zt|ne,le=p(0),pe={E2BIG:1,EACCES:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EALREADY:7,EAGAIN:6,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLOCK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTDOWN:23,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75},de=((bt={})[6]="SIGHUP",bt[8]="SIGINT",bt[11]="SIGQUIT",bt[7]="SIGILL",bt[15]="SIGTRAP",bt[0]="SIGABRT",bt[2]="SIGBUS",bt[5]="SIGFPE",bt[9]="SIGKILL",bt[20]="SIGUSR1",bt[12]="SIGSEGV",bt[21]="SIGUSR2",bt[10]="SIGPIPE",bt[1]="SIGALRM",bt[14]="SIGTERM",bt[3]="SIGCHLD",bt[4]="SIGCONT",bt[13]="SIGSTOP",bt[16]="SIGTSTP",bt[17]="SIGTTIN",bt[18]="SIGTTOU",bt[19]="SIGURG",bt[23]="SIGXCPU",bt[24]="SIGXFSZ",bt[22]="SIGVTALRM",bt),_e=Lt|Ct|Dt|Ut|Zt|ne,ye=Lt|Ft|Dt|Ut|Zt|ne;function ge(t){var e=Math.trunc(t);return t=p(Math.round(1e6*(t-e))),p(e)*p(1e6)+t}function Ee(t){return"number"==typeof t&&(t=Math.trunc(t)),t=p(t),Number(t/p(1e6))}function Se(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{return t.apply(void 0,c(e))}catch(t){if(t&&t.code&&"string"==typeof t.code)return pe[t.code]||28;if(t instanceof ve)return t.errno;throw t}}}function Ie(t,e){var r=t.FD_MAP.get(e);if(!r)throw new ve(8);if(void 0===r.filetype){var n=t.bindings.fs.fstatSync(r.real);e=(t=me(t,e,n)).rightsBase,n=t.rightsInheriting,r.filetype=t.filetype,r.rights||(r.rights={base:e,inheriting:n})}return r}function me(t,e,r){switch(!0){case r.isBlockDevice():return{filetype:1,rightsBase:oe,rightsInheriting:oe};case r.isCharacterDevice():return void 0!==e&&t.bindings.isTTY(e)?{filetype:2,rightsBase:ce,rightsInheriting:le}:{filetype:2,rightsBase:oe,rightsInheriting:oe};case r.isDirectory():return{filetype:3,rightsBase:fe,rightsInheriting:ue};case r.isFIFO():return{filetype:6,rightsBase:he,rightsInheriting:oe};case r.isFile():return{filetype:4,rightsBase:se,rightsInheriting:ae};case r.isSocket():return{filetype:6,rightsBase:he,rightsInheriting:oe};case r.isSymbolicLink():return{filetype:7,rightsBase:p(0),rightsInheriting:p(0)};default:return{filetype:0,rightsBase:p(0),rightsInheriting:p(0)}}}var Ae,ve=function(t){function e(r){var n=t.call(this)||this;return n.errno=r,Object.setPrototypeOf(n,e.prototype),n}return f(e,t),e}(Error),we=function(t){function e(r){var n=t.call(this,"WASI Exit error: "+r)||this;return n.code=r,Object.setPrototypeOf(n,e.prototype),n}return f(e,t),e}(Error),Te=function(t){function e(r){var n=t.call(this,"WASI Kill signal: "+r)||this;return n.signal=r,Object.setPrototypeOf(n,e.prototype),n}return f(e,t),e}(Error),be=function(){function t(t){function e(t){switch(t){case 1:return l.hrtime();case 0:return ge(Date.now());case 2:case 3:return l.hrtime()-w;default:return null}}function r(t,e){if(t=Ie(o,t),e!==p(0)&&(t.rights.base&e)===p(0))throw new ve(63);return t}function n(t,e){return o.refreshMemory(),Array.from({length:e},(function(e,r){return r=t+8*r,e=o.view.getUint32(r,!0),r=o.view.getUint32(r+4,!0),new Uint8Array(o.memory.buffer,e,r)}))}var i,o=this,s={};t&&t.preopens?s=t.preopens:t&&t.preopenDirectories&&(s=t.preopenDirectories);var a={};t&&t.env&&(a=t.env);var f=[];t&&t.args&&(f=t.args);var l=Nt;t&&t.bindings&&(l=t.bindings),this.view=this.memory=void 0,this.bindings=l,this.FD_MAP=new Map([[0,{real:0,filetype:2,rights:{base:_e,inheriting:p(0)},path:void 0}],[1,{real:1,filetype:2,rights:{base:ye,inheriting:p(0)},path:void 0}],[2,{real:2,filetype:2,rights:{base:ye,inheriting:p(0)},path:void 0}]]);var d=this.bindings.fs,_=this.bindings.path;try{for(var y=u(Object.entries(s)),g=y.next();!g.done;g=y.next()){var E=h(g.value,2),S=E[0],I=E[1],m=d.openSync(I,d.constants.O_RDONLY),A=c(this.FD_MAP.keys()).reverse()[0]+1;this.FD_MAP.set(A,{real:m,filetype:3,rights:{base:fe,inheriting:ue},fakePath:S,path:I})}}catch(t){var v={error:t}}finally{try{g&&!g.done&&(i=y.return)&&i.call(y)}finally{if(v)throw v.error}}var w=l.hrtime();this.wasiImport={args_get:function(t,e){o.refreshMemory();var r=t,n=e;return f.forEach((function(t){o.view.setUint32(r,n,!0),r+=4,n+=rt.from(o.memory.buffer).write(t+"\0",n)})),0},args_sizes_get:function(t,e){return o.refreshMemory(),o.view.setUint32(t,f.length,!0),t=f.reduce((function(t,e){return t+rt.byteLength(e)+1}),0),o.view.setUint32(e,t,!0),0},environ_get:function(t,e){o.refreshMemory();var r=t,n=e;return Object.entries(a).forEach((function(t){var e=h(t,2);t=e[0],e=e[1],o.view.setUint32(r,n,!0),r+=4,n+=rt.from(o.memory.buffer).write(t+"="+e+"\0",n)})),0},environ_sizes_get:function(t,e){o.refreshMemory();var r=Object.entries(a).map((function(t){return(t=h(t,2))[0]+"="+t[1]+"\0"})),n=r.reduce((function(t,e){return t+rt.byteLength(e)}),0);return o.view.setUint32(t,r.length,!0),o.view.setUint32(e,n,!0),0},clock_res_get:function(t,e){switch(t){case 1:case 2:case 3:var r=p(1);break;case 0:r=p(1e3)}return o.view.setBigUint64(e,r),0},clock_time_get:function(t,r,n){return o.refreshMemory(),null===(t=e(t))?28:(o.view.setBigUint64(n,p(t),!0),0)},fd_advise:Se((function(t){return r(t,Ut),52})),fd_allocate:Se((function(t){return r(t,Mt),52})),fd_close:Se((function(t){var e=r(t,p(0));return d.closeSync(e.real),o.FD_MAP.delete(t),0})),fd_datasync:Se((function(t){return t=r(t,Lt),d.fdatasyncSync(t.real),0})),fd_fdstat_get:Se((function(t,e){return t=r(t,p(0)),o.refreshMemory(),o.view.setUint8(e,t.filetype),o.view.setUint16(e+2,0,!0),o.view.setUint16(e+4,0,!0),o.view.setBigUint64(e+8,p(t.rights.base),!0),o.view.setBigUint64(e+8+8,p(t.rights.inheriting),!0),0})),fd_fdstat_set_flags:Se((function(t){return r(t,Wt),52})),fd_fdstat_set_rights:Se((function(t,e,n){return((t=r(t,p(0))).rights.base|e)>t.rights.base||(t.rights.inheriting|n)>t.rights.inheriting?63:(t.rights.base=e,t.rights.inheriting=n,0)})),fd_filestat_get:Se((function(t,e){t=r(t,Zt);var n=d.fstatSync(t.real);return o.refreshMemory(),o.view.setBigUint64(e,p(n.dev),!0),e+=8,o.view.setBigUint64(e,p(n.ino),!0),e+=8,o.view.setUint8(e,t.filetype),e+=8,o.view.setBigUint64(e,p(n.nlink),!0),e+=8,o.view.setBigUint64(e,p(n.size),!0),e+=8,o.view.setBigUint64(e,ge(n.atimeMs),!0),e+=8,o.view.setBigUint64(e,ge(n.mtimeMs),!0),o.view.setBigUint64(e+8,ge(n.ctimeMs),!0),0})),fd_filestat_set_size:Se((function(t,e){return t=r(t,$t),d.ftruncateSync(t.real,Number(e)),0})),fd_filestat_set_times:Se((function(t,n,i,o){t=r(t,Qt);var s=d.fstatSync(t.real),a=s.atime;s=s.mtime;var f=Ee(e(0));return 3==(3&o)||12==(12&o)?28:(1==(1&o)?a=Ee(n):2==(2&o)&&(a=f),4==(4&o)?s=Ee(i):8==(8&o)&&(s=f),d.futimesSync(t.real,new Date(a),new Date(s)),0)})),fd_prestat_get:Se((function(t,e){return(t=r(t,p(0))).path?(o.refreshMemory(),o.view.setUint8(e,0),o.view.setUint32(e+4,rt.byteLength(t.fakePath),!0),0):28})),fd_prestat_dir_name:Se((function(t,e,n){return(t=r(t,p(0))).path?(o.refreshMemory(),rt.from(o.memory.buffer).write(t.fakePath,e,n,"utf8"),0):28})),fd_pwrite:Se((function(t,e,i,s,a){var f=r(t,Ft|Pt),u=0;return n(e,i).forEach((function(t){for(var e=0;e<t.byteLength;)e+=d.writeSync(f.real,t,e,t.byteLength-e,Number(s)+u+e);u+=e})),o.view.setUint32(a,u,!0),0})),fd_write:Se((function(t,e,i,s){var a=r(t,Ft),f=0;return n(e,i).forEach((function(t){for(var e=0;e<t.byteLength;){var r=d.writeSync(a.real,t,e,t.byteLength-e,a.offset?Number(a.offset):null);a.offset&&(a.offset+=p(r)),e+=r}f+=e})),o.view.setUint32(s,f,!0),0})),fd_pread:Se((function(t,e,i,s,a){var f;t=r(t,Ct|Pt);var h=0;try{var c=u(n(e,i)),l=c.next();t:for(;!l.done;l=c.next()){var p=l.value;for(e=0;e<p.byteLength;){var _=p.byteLength-e,y=d.readSync(t.real,p,e,p.byteLength-e,Number(s)+h+e);if(e+=y,h+=y,0===y||y<_)break t}h+=e}}catch(t){var g={error:t}}finally{try{l&&!l.done&&(f=c.return)&&f.call(c)}finally{if(g)throw g.error}}return o.view.setUint32(a,h,!0),0})),fd_read:Se((function(t,e,i,s){var a,f=0===(t=r(t,Ct)).real,h=0;try{var c=u(n(e,i)),l=c.next();t:for(;!l.done;l=c.next()){var _=l.value;for(e=0;e<_.byteLength;){var y=_.byteLength-e,g=d.readSync(t.real,_,e,y,f||void 0===t.offset?null:Number(t.offset));if(f||(t.offset=(t.offset?t.offset:p(0))+p(g)),e+=g,h+=g,0===g||g<y)break t}}}catch(t){var E={error:t}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(E)throw E.error}}return o.view.setUint32(s,h,!0),0})),fd_readdir:Se((function(t,e,n,i,s){t=r(t,jt),o.refreshMemory();var a=d.readdirSync(t.path,{withFileTypes:!0}),f=e;for(i=Number(i);i<a.length;i+=1){var u=a[i],h=rt.byteLength(u.name);if(e-f>n)break;if(o.view.setBigUint64(e,p(i+1),!0),(e+=8)-f>n)break;var c=d.statSync(_.resolve(t.path,u.name));if(o.view.setBigUint64(e,p(c.ino),!0),(e+=8)-f>n)break;if(o.view.setUint32(e,h,!0),(e+=4)-f>n)break;switch(!0){case c.isBlockDevice():c=1;break;case c.isCharacterDevice():c=2;break;case c.isDirectory():c=3;break;case c.isFIFO():c=6;break;case c.isFile():c=4;break;case c.isSocket():c=6;break;case c.isSymbolicLink():c=7;break;default:c=0}if(o.view.setUint8(e,c),e+=1,(e+=3)+h>=f+n)break;rt.from(o.memory.buffer).write(u.name,e),e+=h}return o.view.setUint32(s,Math.min(e-f,n),!0),0})),fd_renumber:Se((function(t,e){return r(t,p(0)),r(e,p(0)),d.closeSync(o.FD_MAP.get(t).real),o.FD_MAP.set(t,o.FD_MAP.get(e)),o.FD_MAP.delete(e),0})),fd_seek:Se((function(t,e,n,i){switch(t=r(t,Pt),o.refreshMemory(),n){case 1:t.offset=(t.offset?t.offset:p(0))+p(e);break;case 2:n=d.fstatSync(t.real).size,t.offset=p(n)+p(e);break;case 0:t.offset=p(e)}return o.view.setBigUint64(i,t.offset,!0),0})),fd_tell:Se((function(t,e){return t=r(t,Bt),o.refreshMemory(),t.offset||(t.offset=p(0)),o.view.setBigUint64(e,t.offset,!0),0})),fd_sync:Se((function(t){return t=r(t,Dt),d.fsyncSync(t.real),0})),path_create_directory:Se((function(t,e,n){return(t=r(t,kt)).path?(o.refreshMemory(),e=rt.from(o.memory.buffer,e,n).toString(),d.mkdirSync(_.resolve(t.path,e)),0):28})),path_filestat_get:Se((function(t,e,n,i,s){return(t=r(t,zt)).path?(o.refreshMemory(),n=rt.from(o.memory.buffer,n,i).toString(),n=d.statSync(_.resolve(t.path,n)),o.view.setBigUint64(s,p(n.dev),!0),s+=8,o.view.setBigUint64(s,p(n.ino),!0),s+=8,o.view.setUint8(s,me(o,void 0,n).filetype),s+=8,o.view.setBigUint64(s,p(n.nlink),!0),s+=8,o.view.setBigUint64(s,p(n.size),!0),s+=8,o.view.setBigUint64(s,ge(n.atimeMs),!0),s+=8,o.view.setBigUint64(s,ge(n.mtimeMs),!0),o.view.setBigUint64(s+8,ge(n.ctimeMs),!0),0):28})),path_filestat_set_times:Se((function(t,n,i,s,a,f,u){if(!(t=r(t,Jt)).path)return 28;o.refreshMemory();var h=d.fstatSync(t.real);n=h.atime,h=h.mtime;var c=Ee(e(0));return 3==(3&u)||12==(12&u)?28:(1==(1&u)?n=Ee(a):2==(2&u)&&(n=c),4==(4&u)?h=Ee(f):8==(8&u)&&(h=c),i=rt.from(o.memory.buffer,i,s).toString(),d.utimesSync(_.resolve(t.path,i),new Date(n),new Date(h)),0)})),path_link:Se((function(t,e,n,i,s,a,f){return t=r(t,Ht),s=r(s,xt),t.path&&s.path?(o.refreshMemory(),n=rt.from(o.memory.buffer,n,i).toString(),a=rt.from(o.memory.buffer,a,f).toString(),d.linkSync(_.resolve(t.path,n),_.resolve(s.path,a)),0):28})),path_open:Se((function(t,e,n,i,s,a,f,u,h){e=r(t,Yt),a=p(a),f=p(f),t=(a&(Ct|jt))!==p(0);var l=(a&(Lt|Ft|Mt|$t))!==p(0);if(l&&t)var y=d.constants.O_RDWR;else t?y=d.constants.O_RDONLY:l&&(y=d.constants.O_WRONLY);if(t=a|Yt,a|=f,0!=(1&s)&&(y|=d.constants.O_CREAT,t|=Gt),0!=(2&s)&&(y|=d.constants.O_DIRECTORY),0!=(4&s)&&(y|=d.constants.O_EXCL),0!=(8&s)&&(y|=d.constants.O_TRUNC,t|=Xt),0!=(1&u)&&(y|=d.constants.O_APPEND),0!=(2&u)&&(y=d.constants.O_DSYNC?y|d.constants.O_DSYNC:y|d.constants.O_SYNC,a|=Lt),0!=(4&u)&&(y|=d.constants.O_NONBLOCK),0!=(8&u)&&(y=d.constants.O_RSYNC?y|d.constants.O_RSYNC:y|d.constants.O_SYNC,a|=Dt),0!=(16&u)&&(y|=d.constants.O_SYNC,a|=Dt),l&&0==(y&(d.constants.O_APPEND|d.constants.O_TRUNC))&&(a|=Pt),o.refreshMemory(),n=rt.from(o.memory.buffer,n,i).toString(),n=_.resolve(e.path,n),_.relative(e.path,n).startsWith(".."))return 76;try{var g=d.realpathSync(n);if(_.relative(e.path,g).startsWith(".."))return 76}catch(t){if("ENOENT"!==t.code)throw t;g=n}try{var E=d.statSync(g).isDirectory()}catch(t){}return y=!l&&E?d.openSync(g,d.constants.O_RDONLY):d.openSync(g,y),E=c(o.FD_MAP.keys()).reverse()[0]+1,o.FD_MAP.set(E,{real:y,filetype:void 0,rights:{base:t,inheriting:a},path:g}),Ie(o,E),o.view.setUint32(h,E,!0),0})),path_readlink:Se((function(t,e,n,i,s,a){return(t=r(t,Vt)).path?(o.refreshMemory(),e=rt.from(o.memory.buffer,e,n).toString(),e=_.resolve(t.path,e),e=d.readlinkSync(e),i=rt.from(o.memory.buffer).write(e,i,s),o.view.setUint32(a,i,!0),0):28})),path_remove_directory:Se((function(t,e,n){return(t=r(t,ee)).path?(o.refreshMemory(),e=rt.from(o.memory.buffer,e,n).toString(),d.rmdirSync(_.resolve(t.path,e)),0):28})),path_rename:Se((function(t,e,n,i,s,a){return t=r(t,Kt),i=r(i,qt),t.path&&i.path?(o.refreshMemory(),e=rt.from(o.memory.buffer,e,n).toString(),s=rt.from(o.memory.buffer,s,a).toString(),d.renameSync(_.resolve(t.path,e),_.resolve(i.path,s)),0):28})),path_symlink:Se((function(t,e,n,i,s){return(n=r(n,te)).path?(o.refreshMemory(),t=rt.from(o.memory.buffer,t,e).toString(),i=rt.from(o.memory.buffer,i,s).toString(),d.symlinkSync(t,_.resolve(n.path,i)),0):28})),path_unlink_file:Se((function(t,e,n){return(t=r(t,re)).path?(o.refreshMemory(),e=rt.from(o.memory.buffer,e,n).toString(),d.unlinkSync(_.resolve(t.path,e)),0):28})),poll_oneoff:function(t,r,n,i){var s=0,a=0;o.refreshMemory();for(var f=0;f<n;f+=1){var u=o.view.getBigUint64(t,!0);t+=8;var h=o.view.getUint8(t);switch(t+=1,h){case 0:t+=7,o.view.getBigUint64(t,!0),t+=8;var c=o.view.getUint32(t,!0);t+=4,t+=4,h=o.view.getBigUint64(t,!0),t+=8,o.view.getBigUint64(t,!0),t+=8;var d=o.view.getUint16(t,!0);t+=2,t+=6;var _=1===d;d=0,null===(c=p(e(c)))?d=28:a=(h=_?h:c+h)>a?h:a,o.view.setBigUint64(r,u,!0),r+=8,o.view.setUint16(r,d,!0),r+=2,o.view.setUint8(r,0),r+=1,r+=5,s+=1;break;case 1:case 2:t+=3,o.view.getUint32(t,!0),t+=4,o.view.setBigUint64(r,u,!0),r+=8,o.view.setUint16(r,52,!0),r+=2,o.view.setUint8(r,h),r+=1,r+=5,s+=1;break;default:return 28}}for(o.view.setUint32(i,s,!0);l.hrtime()<a;);return 0},proc_exit:function(t){return l.exit(t),0},proc_raise:function(t){return t in de?(l.kill(de[t]),0):28},random_get:function(t,e){return o.refreshMemory(),l.randomFillSync(new Uint8Array(o.memory.buffer),t,e),0},sched_yield:function(){return 0},sock_recv:function(){return 52},sock_send:function(){return 52},sock_shutdown:function(){return 52}},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((function(t){var e=o.wasiImport[t];o.wasiImport[t]=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];console.log("WASI: wasiImport called: "+t+" ("+r+")");try{var i=e.apply(void 0,c(r));return console.log("WASI:  => "+i),i}catch(t){throw console.log("Catched error: "+t),t}}}))}return t.prototype.refreshMemory=function(){this.view&&0!==this.view.buffer.byteLength||(this.view=new d(this.memory.buffer))},t.prototype.setMemory=function(t){this.memory=t},t.prototype.start=function(t){if(null===(t=t.exports)||"object"!=typeof t)throw Error("instance.exports must be an Object. Received "+t+".");var e=t.memory;if(!(e instanceof WebAssembly.Memory))throw Error("instance.exports.memory must be a WebAssembly.Memory. Recceived "+e+".");this.setMemory(e),t._start&&t._start()},t.prototype.getImportNamespace=function(t){var e,r=null;try{for(var n=u(WebAssembly.Module.imports(t)),i=n.next();!i.done;i=n.next()){var o=i.value;if("function"===o.kind&&o.module.startsWith("wasi_"))if(r){if(r!==o.module)throw Error("Multiple namespaces detected.")}else r=o.module}}catch(t){var s={error:t}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return r},t.prototype.getImports=function(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw Error("Can't detect a WASI namespace for the WebAssembly Module")}},t.defaultBindings=Nt,t}(),Re={};Object.defineProperty(Re,"__esModule",{value:!0});var Oe,Ne,Le={},Ce=Le={};function Pe(){throw new Error("setTimeout has not been defined")}function We(){throw new Error("clearTimeout has not been defined")}function De(t){if(Oe===setTimeout)return setTimeout(t,0);if((Oe===Pe||!Oe)&&setTimeout)return Oe=setTimeout,setTimeout(t,0);try{return Oe(t,0)}catch(e){try{return Oe.call(null,t,0)}catch(e){return Oe.call(this,t,0)}}}!function(){try{Oe="function"==typeof setTimeout?setTimeout:Pe}catch(t){Oe=Pe}try{Ne="function"==typeof clearTimeout?clearTimeout:We}catch(t){Ne=We}}();var Be,Fe=[],Ue=!1,Me=-1;function ke(){Ue&&Be&&(Ue=!1,Be.length?Fe=Be.concat(Fe):Me=-1,Fe.length&&Ge())}function Ge(){if(!Ue){var t=De(ke);Ue=!0;for(var e=Fe.length;e;){for(Be=Fe,Fe=[];++Me<e;)Be&&Be[Me].run();Me=-1,e=Fe.length}Be=null,Ue=!1,function(t){if(Ne===clearTimeout)return clearTimeout(t);if((Ne===We||!Ne)&&clearTimeout)return Ne=clearTimeout,clearTimeout(t);try{Ne(t)}catch(e){try{return Ne.call(null,t)}catch(e){return Ne.call(this,t)}}}(t)}}function He(t,e){this.fun=t,this.array=e}function xe(){}function Ye(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}Ce.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Fe.push(new He(t,e)),1!==Fe.length||Ue||De(Ge)},He.prototype.run=function(){this.fun.apply(null,this.array)},Ce.title="browser",Ce.browser=!0,Ce.env={},Ce.argv=[],Ce.version="",Ce.versions={},Ce.on=xe,Ce.addListener=xe,Ce.once=xe,Ce.off=xe,Ce.removeListener=xe,Ce.removeAllListeners=xe,Ce.emit=xe,Ce.prependListener=xe,Ce.prependOnceListener=xe,Ce.listeners=function(t){return[]},Ce.binding=function(t){throw new Error("process.binding is not supported")},Ce.cwd=function(){return"/"},Ce.chdir=function(t){throw new Error("process.chdir is not supported")},Ce.umask=function(){return 0};var je,Ve,Ke,qe,ze,Xe,Je={},Ze={};t(Ze,"Buffer",(()=>je),(t=>je=t)),t(Ze,"SlowBuffer",(()=>Ve),(t=>Ve=t)),t(Ze,"INSPECT_MAX_BYTES",(()=>Ke),(t=>Ke=t)),t(Ze,"kMaxLength",(()=>qe),(t=>qe=t)),ze=function(t){var e,r,n=sr(t),i=n[0],o=n[1],s=new rr(function(t,e,r){return 3*(e+r)/4-r}(0,i,o)),a=0,f=o>0?i-4:i;for(r=0;r<f;r+=4)e=er[t.charCodeAt(r)]<<18|er[t.charCodeAt(r+1)]<<12|er[t.charCodeAt(r+2)]<<6|er[t.charCodeAt(r+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;2===o&&(e=er[t.charCodeAt(r)]<<2|er[t.charCodeAt(r+1)]>>4,s[a++]=255&e);1===o&&(e=er[t.charCodeAt(r)]<<10|er[t.charCodeAt(r+1)]<<4|er[t.charCodeAt(r+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e);return s},Xe=function(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(ar(t,s,s+o>a?a:s+o));1===n?(e=t[r-1],i.push(tr[e>>2]+tr[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(tr[e>>10]+tr[e>>4&63]+tr[e<<2&63]+"="));return i.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var $e,Qe,tr=[],er=[],rr="undefined"!=typeof Uint8Array?Uint8Array:Array,nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ir=0,or=nr.length;ir<or;++ir)tr[ir]=nr[ir],er[nr.charCodeAt(ir)]=ir;function sr(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function ar(t,e,r){for(var n,i,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(tr[(i=n)>>18&63]+tr[i>>12&63]+tr[i>>6&63]+tr[63&i]);return o.join("")}er["-".charCodeAt(0)]=62,er["_".charCodeAt(0)]=63,$e=function(t,e,r,n,i){var o,s,a=8*i-n-1,f=(1<<a)-1,u=f>>1,h=-7,c=r?i-1:0,l=r?-1:1,p=t[e+c];for(c+=l,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+c],c+=l,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+t[e+c],c+=l,h-=8);if(0===o)o=1-u;else{if(o===f)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},Qe=function(t,e,r,n,i,o){var s,a,f,u=8*o-i-1,h=(1<<u)-1,c=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),(e+=s+c>=1?l/f:l*Math.pow(2,1-c))*f>=2&&(s++,f/=2),s+c>=h?(a=0,s=h):s+c>=1?(a=(e*f-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+p]=255&s,p+=d,s/=256,u-=8);t[r+p-d]|=128*_};var fr="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;je=hr,Ve=function(t){+t!=t&&(t=0);return hr.alloc(+t)},Ke=50;function ur(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,hr.prototype),e}function hr(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return pr(t)}return cr(t,e,r)}function cr(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!hr.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|gr(t,e),n=ur(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(xr(t,Uint8Array)){var e=new Uint8Array(t);return _r(e.buffer,e.byteOffset,e.byteLength)}return dr(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(xr(t,ArrayBuffer)||t&&xr(t.buffer,ArrayBuffer))return _r(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(xr(t,SharedArrayBuffer)||t&&xr(t.buffer,SharedArrayBuffer)))return _r(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return hr.from(n,e,r);var i=function(t){if(hr.isBuffer(t)){var e=0|yr(t.length),r=ur(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Yr(t.length)?ur(0):dr(t);if("Buffer"===t.type&&Array.isArray(t.data))return dr(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return hr.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function lr(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function pr(t){return lr(t),ur(t<0?0:0|yr(t))}function dr(t){for(var e=t.length<0?0:0|yr(t.length),r=ur(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function _r(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,hr.prototype),n}function yr(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function gr(t,e){if(hr.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||xr(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return kr(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Gr(t).length;default:if(i)return n?-1:kr(t).length;e=(""+e).toLowerCase(),i=!0}}function Er(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Cr(this,e,r);case"utf8":case"utf-8":return Or(this,e,r);case"ascii":return Nr(this,e,r);case"latin1":case"binary":return Lr(this,e,r);case"base64":return Rr(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pr(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Sr(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Ir(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Yr(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=hr.from(e,n)),hr.isBuffer(e))return 0===e.length?-1:mr(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):mr(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function mr(t,e,r,n,i){var o,s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===f)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){for(var c=!0,l=0;l<f;l++)if(u(t,o+l)!==u(e,l)){c=!1;break}if(c)return o}return-1}function Ar(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(Yr(a))return s;t[r+s]=a}return s}function vr(t,e,r,n){return Hr(kr(e,t.length-r),t,r,n)}function wr(t,e,r,n){return Hr(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function Tr(t,e,r,n){return Hr(Gr(e),t,r,n)}function br(t,e,r,n){return Hr(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function Rr(t,e,r){return 0===e&&r===t.length?Xe(t):Xe(t.slice(e,r))}function Or(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,f,u=t[i],h=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&u)<<6|63&o)>127&&(h=f);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(f=(15&u)<<12|(63&o)<<6|63&s)>2047&&(f<55296||f>57343)&&(h=f);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(f=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&f<1114112&&(h=f)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}qe=2147483647,hr.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),hr.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(hr.prototype,"parent",{enumerable:!0,get:function(){if(hr.isBuffer(this))return this.buffer}}),Object.defineProperty(hr.prototype,"offset",{enumerable:!0,get:function(){if(hr.isBuffer(this))return this.byteOffset}}),hr.poolSize=8192,hr.from=function(t,e,r){return cr(t,e,r)},Object.setPrototypeOf(hr.prototype,Uint8Array.prototype),Object.setPrototypeOf(hr,Uint8Array),hr.alloc=function(t,e,r){return function(t,e,r){return lr(t),t<=0?ur(t):void 0!==e?"string"==typeof r?ur(t).fill(e,r):ur(t).fill(e):ur(t)}(t,e,r)},hr.allocUnsafe=function(t){return pr(t)},hr.allocUnsafeSlow=function(t){return pr(t)},hr.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==hr.prototype},hr.compare=function(t,e){if(xr(t,Uint8Array)&&(t=hr.from(t,t.offset,t.byteLength)),xr(e,Uint8Array)&&(e=hr.from(e,e.offset,e.byteLength)),!hr.isBuffer(t)||!hr.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},hr.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},hr.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return hr.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=hr.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(xr(o,Uint8Array))i+o.length>n.length?hr.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!hr.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},hr.byteLength=gr,hr.prototype._isBuffer=!0,hr.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Sr(this,e,e+1);return this},hr.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Sr(this,e,e+3),Sr(this,e+1,e+2);return this},hr.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Sr(this,e,e+7),Sr(this,e+1,e+6),Sr(this,e+2,e+5),Sr(this,e+3,e+4);return this},hr.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?Or(this,0,t):Er.apply(this,arguments)},hr.prototype.toLocaleString=hr.prototype.toString,hr.prototype.equals=function(t){if(!hr.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===hr.compare(this,t)},hr.prototype.inspect=function(){var t="",e=Ke;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},fr&&(hr.prototype[fr]=hr.prototype.inspect),hr.prototype.compare=function(t,e,r,n,i){if(xr(t,Uint8Array)&&(t=hr.from(t,t.offset,t.byteLength)),!hr.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),f=this.slice(n,i),u=t.slice(e,r),h=0;h<a;++h)if(f[h]!==u[h]){o=f[h],s=u[h];break}return o<s?-1:s<o?1:0},hr.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},hr.prototype.indexOf=function(t,e,r){return Ir(this,t,e,r,!0)},hr.prototype.lastIndexOf=function(t,e,r){return Ir(this,t,e,r,!1)},hr.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ar(this,t,e,r);case"utf8":case"utf-8":return vr(this,t,e,r);case"ascii":case"latin1":case"binary":return wr(this,t,e,r);case"base64":return Tr(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return br(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},hr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Nr(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function Lr(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Cr(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=jr[t[o]];return i}function Pr(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Wr(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Dr(t,e,r,n,i,o){if(!hr.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Br(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Fr(t,e,r,n,i){return e=+e,r>>>=0,i||Br(t,0,r,4),Qe(t,e,r,n,23,4),r+4}function Ur(t,e,r,n,i){return e=+e,r>>>=0,i||Br(t,0,r,8),Qe(t,e,r,n,52,8),r+8}hr.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,hr.prototype),n},hr.prototype.readUintLE=hr.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||Wr(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},hr.prototype.readUintBE=hr.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||Wr(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},hr.prototype.readUint8=hr.prototype.readUInt8=function(t,e){return t>>>=0,e||Wr(t,1,this.length),this[t]},hr.prototype.readUint16LE=hr.prototype.readUInt16LE=function(t,e){return t>>>=0,e||Wr(t,2,this.length),this[t]|this[t+1]<<8},hr.prototype.readUint16BE=hr.prototype.readUInt16BE=function(t,e){return t>>>=0,e||Wr(t,2,this.length),this[t]<<8|this[t+1]},hr.prototype.readUint32LE=hr.prototype.readUInt32LE=function(t,e){return t>>>=0,e||Wr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},hr.prototype.readUint32BE=hr.prototype.readUInt32BE=function(t,e){return t>>>=0,e||Wr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},hr.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||Wr(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},hr.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||Wr(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},hr.prototype.readInt8=function(t,e){return t>>>=0,e||Wr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},hr.prototype.readInt16LE=function(t,e){t>>>=0,e||Wr(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},hr.prototype.readInt16BE=function(t,e){t>>>=0,e||Wr(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},hr.prototype.readInt32LE=function(t,e){return t>>>=0,e||Wr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},hr.prototype.readInt32BE=function(t,e){return t>>>=0,e||Wr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},hr.prototype.readFloatLE=function(t,e){return t>>>=0,e||Wr(t,4,this.length),$e(this,t,!0,23,4)},hr.prototype.readFloatBE=function(t,e){return t>>>=0,e||Wr(t,4,this.length),$e(this,t,!1,23,4)},hr.prototype.readDoubleLE=function(t,e){return t>>>=0,e||Wr(t,8,this.length),$e(this,t,!0,52,8)},hr.prototype.readDoubleBE=function(t,e){return t>>>=0,e||Wr(t,8,this.length),$e(this,t,!1,52,8)},hr.prototype.writeUintLE=hr.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||Dr(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},hr.prototype.writeUintBE=hr.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||Dr(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},hr.prototype.writeUint8=hr.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,1,255,0),this[e]=255&t,e+1},hr.prototype.writeUint16LE=hr.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},hr.prototype.writeUint16BE=hr.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},hr.prototype.writeUint32LE=hr.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},hr.prototype.writeUint32BE=hr.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},hr.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);Dr(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},hr.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);Dr(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},hr.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},hr.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},hr.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},hr.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},hr.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||Dr(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},hr.prototype.writeFloatLE=function(t,e,r){return Fr(this,t,e,!0,r)},hr.prototype.writeFloatBE=function(t,e,r){return Fr(this,t,e,!1,r)},hr.prototype.writeDoubleLE=function(t,e,r){return Ur(this,t,e,!0,r)},hr.prototype.writeDoubleBE=function(t,e,r){return Ur(this,t,e,!1,r)},hr.prototype.copy=function(t,e,r,n){if(!hr.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},hr.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!hr.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=hr.isBuffer(t)?t:hr.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var Mr=/[^+/0-9A-Za-z-_]/g;function kr(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Gr(t){return ze(function(t){if((t=(t=t.split("=")[0]).trim().replace(Mr,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Hr(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function xr(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Yr(t){return t!=t}var jr=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}(),Vr=Ze.Buffer;function Kr(t,e){for(var r in t)e[r]=t[r]}function qr(t,e,r){return Vr(t,e,r)}Vr.from&&Vr.alloc&&Vr.allocUnsafe&&Vr.allocUnsafeSlow?Je=Ze:(Kr(Ze,Je),Je.Buffer=qr),Kr(Vr,qr),qr.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return Vr(t,e,r)},qr.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=Vr(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},qr.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Vr(t)},qr.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Ze.SlowBuffer(t)};var zr=Je.Buffer,Xr=r.crypto||r.msCrypto;Xr&&Xr.getRandomValues;var Jr=Je.Buffer,Zr=Je.kMaxLength,$r=r.crypto||r.msCrypto,Qr=Math.pow(2,32)-1;function tn(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>Qr||t<0)throw new TypeError("offset must be a uint32");if(t>Zr||t>e)throw new RangeError("offset out of range")}function en(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>Qr||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>Zr)throw new RangeError("buffer too small")}function rn(t,e,r,n){var i=t.buffer,o=new Uint8Array(i,e,r);if($r.getRandomValues(o),!n)return t;Le.nextTick((function(){n(null,t)}))}$r&&$r.getRandomValues?(function(t,e,n,i){if(!(Jr.isBuffer(t)||t instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return tn(e,t.length),en(n,e,t.length),rn(t,e,n,i)},Ae=function(t,e,n){void 0===e&&(e=0);if(!(Jr.isBuffer(t)||t instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');tn(e,t.length),void 0===n&&(n=t.length-e);return en(n,e,t.length),rn(t,e,n)}):(Ye,Ae=Ye);var nn={};Object.defineProperty(nn,"__esModule",{value:!0});const on=Math.floor(.001*(Date.now()-performance.now()));nn.default=function(t){let e=.001*performance.now(),r=Math.floor(e)+on,n=Math.floor(e%1*1e9);return t&&(r-=t[0],n-=t[1],n<0&&(r--,n+=1e9)),[r,n]};var sn;function an(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function fn(t,e){for(var r,n="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){-1===f?(n="",i=0):i=(n=n.slice(0,f)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(o+1,a):n=t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var un={resolve:function(){for(var t,e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var i;n>=0?i=arguments[n]:(void 0===t&&(t=Le.cwd()),i=t),an(i),0!==i.length&&(e=i+"/"+e,r=47===i.charCodeAt(0))}return e=fn(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(an(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=fn(t,!e)).length||e||(t="."),t.length>0&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return an(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];an(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":un.normalize(t)},relative:function(t,e){if(an(t),an(e),t===e)return"";if((t=un.resolve(t))===(e=un.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,i=n-r,o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length-o,a=i<s?i:s,f=-1,u=0;u<=a;++u){if(u===a){if(s>a){if(47===e.charCodeAt(o+u))return e.slice(o+u+1);if(0===u)return e.slice(o+u)}else i>a&&(47===t.charCodeAt(r+u)?f=u:0===u&&(f=0));break}var h=t.charCodeAt(r+u);if(h!==e.charCodeAt(o+u))break;47===h&&(f=u)}var c="";for(u=r+f+1;u<=n;++u)u!==n&&47!==t.charCodeAt(u)||(0===c.length?c+="..":c+="/..");return c.length>0?c+e.slice(o+f):(o+=f,47===e.charCodeAt(o)&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(an(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');an(t);var r,n=0,i=-1,o=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,a=-1;for(r=t.length-1;r>=0;--r){var f=t.charCodeAt(r);if(47===f){if(!o){n=r+1;break}}else-1===a&&(o=!1,a=r+1),s>=0&&(f===e.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=a))}return n===i?i=a:-1===i&&(i=t.length),t.slice(n,i)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":t.slice(n,i)},extname:function(t){an(t);for(var e=-1,r=0,n=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===n&&(i=!1,n=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){r=s+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}("/",t)},parse:function(t){an(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,n=t.charCodeAt(0),i=47===n;i?(e.root="/",r=1):r=0;for(var o=-1,s=0,a=-1,f=!0,u=t.length-1,h=0;u>=r;--u)if(47!==(n=t.charCodeAt(u)))-1===a&&(f=!1,a=u+1),46===n?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1);else if(!f){s=u+1;break}return-1===o||-1===a||0===h||1===h&&o===a-1&&o===s+1?-1!==a&&(e.base=e.name=0===s&&i?t.slice(1,a):t.slice(s,a)):(0===s&&i?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),s>0?e.dir=t.slice(0,s-1):i&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};un.posix=un,sn=un;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});var cn={};Object.defineProperty(cn,"__esModule",{value:!0});const ln="undefined"!=typeof globalThis?globalThis:void 0!==r?r:{};cn.BigIntPolyfill="undefined"!=typeof BigInt?BigInt:ln.BigInt||Number;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});let dn=DataView;dn.prototype.setBigUint64||(dn.prototype.setBigUint64=function(t,e,r){let n,i;if(e<2**32)n=Number(e),i=0;else{for(var o=e.toString(2),s="",a=0;a<64-o.length;a++)s+="0";s+=o,i=parseInt(s.substring(0,32),2),n=parseInt(s.substring(32),2)}this.setUint32(t+(r?0:4),n,r),this.setUint32(t+(r?4:0),i,r)},dn.prototype.getBigUint64=function(t,e){let r=this.getUint32(t+(e?0:4),e),n=this.getUint32(t+(e?4:0),e);for(var i=r.toString(2),o=n.toString(2),s="",a=0;a<32-i.length;a++)s+="0";return s+=i,cn.BigIntPolyfill("0b"+o+s)}),pn.DataViewPolyfill=dn;var _n={},yn=je;Object.defineProperty(_n,"__esModule",{value:!0});const gn=yn;_n.default=gn;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.WASI_ESUCCESS=0,En.WASI_E2BIG=1,En.WASI_EACCES=2,En.WASI_EADDRINUSE=3,En.WASI_EADDRNOTAVAIL=4,En.WASI_EAFNOSUPPORT=5,En.WASI_EAGAIN=6,En.WASI_EALREADY=7,En.WASI_EBADF=8,En.WASI_EBADMSG=9,En.WASI_EBUSY=10,En.WASI_ECANCELED=11,En.WASI_ECHILD=12,En.WASI_ECONNABORTED=13,En.WASI_ECONNREFUSED=14,En.WASI_ECONNRESET=15,En.WASI_EDEADLK=16,En.WASI_EDESTADDRREQ=17,En.WASI_EDOM=18,En.WASI_EDQUOT=19,En.WASI_EEXIST=20,En.WASI_EFAULT=21,En.WASI_EFBIG=22,En.WASI_EHOSTUNREACH=23,En.WASI_EIDRM=24,En.WASI_EILSEQ=25,En.WASI_EINPROGRESS=26,En.WASI_EINTR=27,En.WASI_EINVAL=28,En.WASI_EIO=29,En.WASI_EISCONN=30,En.WASI_EISDIR=31,En.WASI_ELOOP=32,En.WASI_EMFILE=33,En.WASI_EMLINK=34,En.WASI_EMSGSIZE=35,En.WASI_EMULTIHOP=36,En.WASI_ENAMETOOLONG=37,En.WASI_ENETDOWN=38,En.WASI_ENETRESET=39,En.WASI_ENETUNREACH=40,En.WASI_ENFILE=41,En.WASI_ENOBUFS=42,En.WASI_ENODEV=43,En.WASI_ENOENT=44,En.WASI_ENOEXEC=45,En.WASI_ENOLCK=46,En.WASI_ENOLINK=47,En.WASI_ENOMEM=48,En.WASI_ENOMSG=49,En.WASI_ENOPROTOOPT=50,En.WASI_ENOSPC=51,En.WASI_ENOSYS=52,En.WASI_ENOTCONN=53,En.WASI_ENOTDIR=54,En.WASI_ENOTEMPTY=55,En.WASI_ENOTRECOVERABLE=56,En.WASI_ENOTSOCK=57,En.WASI_ENOTSUP=58,En.WASI_ENOTTY=59,En.WASI_ENXIO=60,En.WASI_EOVERFLOW=61,En.WASI_EOWNERDEAD=62,En.WASI_EPERM=63,En.WASI_EPIPE=64,En.WASI_EPROTO=65,En.WASI_EPROTONOSUPPORT=66,En.WASI_EPROTOTYPE=67,En.WASI_ERANGE=68,En.WASI_EROFS=69,En.WASI_ESPIPE=70,En.WASI_ESRCH=71,En.WASI_ESTALE=72,En.WASI_ETIMEDOUT=73,En.WASI_ETXTBSY=74,En.WASI_EXDEV=75,En.WASI_ENOTCAPABLE=76,En.WASI_SIGABRT=0,En.WASI_SIGALRM=1,En.WASI_SIGBUS=2,En.WASI_SIGCHLD=3,En.WASI_SIGCONT=4,En.WASI_SIGFPE=5,En.WASI_SIGHUP=6,En.WASI_SIGILL=7,En.WASI_SIGINT=8,En.WASI_SIGKILL=9,En.WASI_SIGPIPE=10,En.WASI_SIGQUIT=11,En.WASI_SIGSEGV=12,En.WASI_SIGSTOP=13,En.WASI_SIGTERM=14,En.WASI_SIGTRAP=15,En.WASI_SIGTSTP=16,En.WASI_SIGTTIN=17,En.WASI_SIGTTOU=18,En.WASI_SIGURG=19,En.WASI_SIGUSR1=20,En.WASI_SIGUSR2=21,En.WASI_SIGVTALRM=22,En.WASI_SIGXCPU=23,En.WASI_SIGXFSZ=24,En.WASI_FILETYPE_UNKNOWN=0,En.WASI_FILETYPE_BLOCK_DEVICE=1,En.WASI_FILETYPE_CHARACTER_DEVICE=2,En.WASI_FILETYPE_DIRECTORY=3,En.WASI_FILETYPE_REGULAR_FILE=4,En.WASI_FILETYPE_SOCKET_DGRAM=5,En.WASI_FILETYPE_SOCKET_STREAM=6,En.WASI_FILETYPE_SYMBOLIC_LINK=7,En.WASI_FDFLAG_APPEND=1,En.WASI_FDFLAG_DSYNC=2,En.WASI_FDFLAG_NONBLOCK=4,En.WASI_FDFLAG_RSYNC=8,En.WASI_FDFLAG_SYNC=16,En.WASI_RIGHT_FD_DATASYNC=cn.BigIntPolyfill(1),En.WASI_RIGHT_FD_READ=cn.BigIntPolyfill(2),En.WASI_RIGHT_FD_SEEK=cn.BigIntPolyfill(4),En.WASI_RIGHT_FD_FDSTAT_SET_FLAGS=cn.BigIntPolyfill(8),En.WASI_RIGHT_FD_SYNC=cn.BigIntPolyfill(16),En.WASI_RIGHT_FD_TELL=cn.BigIntPolyfill(32),En.WASI_RIGHT_FD_WRITE=cn.BigIntPolyfill(64),En.WASI_RIGHT_FD_ADVISE=cn.BigIntPolyfill(128),En.WASI_RIGHT_FD_ALLOCATE=cn.BigIntPolyfill(256),En.WASI_RIGHT_PATH_CREATE_DIRECTORY=cn.BigIntPolyfill(512),En.WASI_RIGHT_PATH_CREATE_FILE=cn.BigIntPolyfill(1024),En.WASI_RIGHT_PATH_LINK_SOURCE=cn.BigIntPolyfill(2048),En.WASI_RIGHT_PATH_LINK_TARGET=cn.BigIntPolyfill(4096),En.WASI_RIGHT_PATH_OPEN=cn.BigIntPolyfill(8192),En.WASI_RIGHT_FD_READDIR=cn.BigIntPolyfill(16384),En.WASI_RIGHT_PATH_READLINK=cn.BigIntPolyfill(32768),En.WASI_RIGHT_PATH_RENAME_SOURCE=cn.BigIntPolyfill(65536),En.WASI_RIGHT_PATH_RENAME_TARGET=cn.BigIntPolyfill(131072),En.WASI_RIGHT_PATH_FILESTAT_GET=cn.BigIntPolyfill(262144),En.WASI_RIGHT_PATH_FILESTAT_SET_SIZE=cn.BigIntPolyfill(524288),En.WASI_RIGHT_PATH_FILESTAT_SET_TIMES=cn.BigIntPolyfill(1048576),En.WASI_RIGHT_FD_FILESTAT_GET=cn.BigIntPolyfill(2097152),En.WASI_RIGHT_FD_FILESTAT_SET_SIZE=cn.BigIntPolyfill(4194304),En.WASI_RIGHT_FD_FILESTAT_SET_TIMES=cn.BigIntPolyfill(8388608),En.WASI_RIGHT_PATH_SYMLINK=cn.BigIntPolyfill(16777216),En.WASI_RIGHT_PATH_REMOVE_DIRECTORY=cn.BigIntPolyfill(33554432),En.WASI_RIGHT_PATH_UNLINK_FILE=cn.BigIntPolyfill(67108864),En.WASI_RIGHT_POLL_FD_READWRITE=cn.BigIntPolyfill(134217728),En.WASI_RIGHT_SOCK_SHUTDOWN=cn.BigIntPolyfill(268435456),En.RIGHTS_ALL=En.WASI_RIGHT_FD_DATASYNC|En.WASI_RIGHT_FD_READ|En.WASI_RIGHT_FD_SEEK|En.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|En.WASI_RIGHT_FD_SYNC|En.WASI_RIGHT_FD_TELL|En.WASI_RIGHT_FD_WRITE|En.WASI_RIGHT_FD_ADVISE|En.WASI_RIGHT_FD_ALLOCATE|En.WASI_RIGHT_PATH_CREATE_DIRECTORY|En.WASI_RIGHT_PATH_CREATE_FILE|En.WASI_RIGHT_PATH_LINK_SOURCE|En.WASI_RIGHT_PATH_LINK_TARGET|En.WASI_RIGHT_PATH_OPEN|En.WASI_RIGHT_FD_READDIR|En.WASI_RIGHT_PATH_READLINK|En.WASI_RIGHT_PATH_RENAME_SOURCE|En.WASI_RIGHT_PATH_RENAME_TARGET|En.WASI_RIGHT_PATH_FILESTAT_GET|En.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|En.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|En.WASI_RIGHT_FD_FILESTAT_GET|En.WASI_RIGHT_FD_FILESTAT_SET_TIMES|En.WASI_RIGHT_FD_FILESTAT_SET_SIZE|En.WASI_RIGHT_PATH_SYMLINK|En.WASI_RIGHT_PATH_UNLINK_FILE|En.WASI_RIGHT_PATH_REMOVE_DIRECTORY|En.WASI_RIGHT_POLL_FD_READWRITE|En.WASI_RIGHT_SOCK_SHUTDOWN,En.RIGHTS_BLOCK_DEVICE_BASE=En.RIGHTS_ALL,En.RIGHTS_BLOCK_DEVICE_INHERITING=En.RIGHTS_ALL,En.RIGHTS_CHARACTER_DEVICE_BASE=En.RIGHTS_ALL,En.RIGHTS_CHARACTER_DEVICE_INHERITING=En.RIGHTS_ALL,En.RIGHTS_REGULAR_FILE_BASE=En.WASI_RIGHT_FD_DATASYNC|En.WASI_RIGHT_FD_READ|En.WASI_RIGHT_FD_SEEK|En.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|En.WASI_RIGHT_FD_SYNC|En.WASI_RIGHT_FD_TELL|En.WASI_RIGHT_FD_WRITE|En.WASI_RIGHT_FD_ADVISE|En.WASI_RIGHT_FD_ALLOCATE|En.WASI_RIGHT_FD_FILESTAT_GET|En.WASI_RIGHT_FD_FILESTAT_SET_SIZE|En.WASI_RIGHT_FD_FILESTAT_SET_TIMES|En.WASI_RIGHT_POLL_FD_READWRITE,En.RIGHTS_REGULAR_FILE_INHERITING=cn.BigIntPolyfill(0),En.RIGHTS_DIRECTORY_BASE=En.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|En.WASI_RIGHT_FD_SYNC|En.WASI_RIGHT_FD_ADVISE|En.WASI_RIGHT_PATH_CREATE_DIRECTORY|En.WASI_RIGHT_PATH_CREATE_FILE|En.WASI_RIGHT_PATH_LINK_SOURCE|En.WASI_RIGHT_PATH_LINK_TARGET|En.WASI_RIGHT_PATH_OPEN|En.WASI_RIGHT_FD_READDIR|En.WASI_RIGHT_PATH_READLINK|En.WASI_RIGHT_PATH_RENAME_SOURCE|En.WASI_RIGHT_PATH_RENAME_TARGET|En.WASI_RIGHT_PATH_FILESTAT_GET|En.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|En.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|En.WASI_RIGHT_FD_FILESTAT_GET|En.WASI_RIGHT_FD_FILESTAT_SET_TIMES|En.WASI_RIGHT_PATH_SYMLINK|En.WASI_RIGHT_PATH_UNLINK_FILE|En.WASI_RIGHT_PATH_REMOVE_DIRECTORY|En.WASI_RIGHT_POLL_FD_READWRITE,En.RIGHTS_DIRECTORY_INHERITING=En.RIGHTS_DIRECTORY_BASE|En.RIGHTS_REGULAR_FILE_BASE,En.RIGHTS_SOCKET_BASE=En.WASI_RIGHT_FD_READ|En.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|En.WASI_RIGHT_FD_WRITE|En.WASI_RIGHT_FD_FILESTAT_GET|En.WASI_RIGHT_POLL_FD_READWRITE|En.WASI_RIGHT_SOCK_SHUTDOWN,En.RIGHTS_SOCKET_INHERITING=En.RIGHTS_ALL,En.RIGHTS_TTY_BASE=En.WASI_RIGHT_FD_READ|En.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|En.WASI_RIGHT_FD_WRITE|En.WASI_RIGHT_FD_FILESTAT_GET|En.WASI_RIGHT_POLL_FD_READWRITE,En.RIGHTS_TTY_INHERITING=cn.BigIntPolyfill(0),En.WASI_CLOCK_REALTIME=0,En.WASI_CLOCK_MONOTONIC=1,En.WASI_CLOCK_PROCESS_CPUTIME_ID=2,En.WASI_CLOCK_THREAD_CPUTIME_ID=3,En.WASI_EVENTTYPE_CLOCK=0,En.WASI_EVENTTYPE_FD_READ=1,En.WASI_EVENTTYPE_FD_WRITE=2,En.WASI_FILESTAT_SET_ATIM=1,En.WASI_FILESTAT_SET_ATIM_NOW=2,En.WASI_FILESTAT_SET_MTIM=4,En.WASI_FILESTAT_SET_MTIM_NOW=8,En.WASI_O_CREAT=1,En.WASI_O_DIRECTORY=2,En.WASI_O_EXCL=4,En.WASI_O_TRUNC=8,En.WASI_PREOPENTYPE_DIR=0,En.WASI_DIRCOOKIE_START=0,En.WASI_STDIN_FILENO=0,En.WASI_STDOUT_FILENO=1,En.WASI_STDERR_FILENO=2,En.WASI_WHENCE_SET=0,En.WASI_WHENCE_CUR=1,En.WASI_WHENCE_END=2,En.ERROR_MAP={E2BIG:En.WASI_E2BIG,EACCES:En.WASI_EACCES,EADDRINUSE:En.WASI_EADDRINUSE,EADDRNOTAVAIL:En.WASI_EADDRNOTAVAIL,EAFNOSUPPORT:En.WASI_EAFNOSUPPORT,EALREADY:En.WASI_EALREADY,EAGAIN:En.WASI_EAGAIN,EBADF:En.WASI_EBADF,EBADMSG:En.WASI_EBADMSG,EBUSY:En.WASI_EBUSY,ECANCELED:En.WASI_ECANCELED,ECHILD:En.WASI_ECHILD,ECONNABORTED:En.WASI_ECONNABORTED,ECONNREFUSED:En.WASI_ECONNREFUSED,ECONNRESET:En.WASI_ECONNRESET,EDEADLOCK:En.WASI_EDEADLK,EDESTADDRREQ:En.WASI_EDESTADDRREQ,EDOM:En.WASI_EDOM,EDQUOT:En.WASI_EDQUOT,EEXIST:En.WASI_EEXIST,EFAULT:En.WASI_EFAULT,EFBIG:En.WASI_EFBIG,EHOSTDOWN:En.WASI_EHOSTUNREACH,EHOSTUNREACH:En.WASI_EHOSTUNREACH,EIDRM:En.WASI_EIDRM,EILSEQ:En.WASI_EILSEQ,EINPROGRESS:En.WASI_EINPROGRESS,EINTR:En.WASI_EINTR,EINVAL:En.WASI_EINVAL,EIO:En.WASI_EIO,EISCONN:En.WASI_EISCONN,EISDIR:En.WASI_EISDIR,ELOOP:En.WASI_ELOOP,EMFILE:En.WASI_EMFILE,EMLINK:En.WASI_EMLINK,EMSGSIZE:En.WASI_EMSGSIZE,EMULTIHOP:En.WASI_EMULTIHOP,ENAMETOOLONG:En.WASI_ENAMETOOLONG,ENETDOWN:En.WASI_ENETDOWN,ENETRESET:En.WASI_ENETRESET,ENETUNREACH:En.WASI_ENETUNREACH,ENFILE:En.WASI_ENFILE,ENOBUFS:En.WASI_ENOBUFS,ENODEV:En.WASI_ENODEV,ENOENT:En.WASI_ENOENT,ENOEXEC:En.WASI_ENOEXEC,ENOLCK:En.WASI_ENOLCK,ENOLINK:En.WASI_ENOLINK,ENOMEM:En.WASI_ENOMEM,ENOMSG:En.WASI_ENOMSG,ENOPROTOOPT:En.WASI_ENOPROTOOPT,ENOSPC:En.WASI_ENOSPC,ENOSYS:En.WASI_ENOSYS,ENOTCONN:En.WASI_ENOTCONN,ENOTDIR:En.WASI_ENOTDIR,ENOTEMPTY:En.WASI_ENOTEMPTY,ENOTRECOVERABLE:En.WASI_ENOTRECOVERABLE,ENOTSOCK:En.WASI_ENOTSOCK,ENOTTY:En.WASI_ENOTTY,ENXIO:En.WASI_ENXIO,EOVERFLOW:En.WASI_EOVERFLOW,EOWNERDEAD:En.WASI_EOWNERDEAD,EPERM:En.WASI_EPERM,EPIPE:En.WASI_EPIPE,EPROTO:En.WASI_EPROTO,EPROTONOSUPPORT:En.WASI_EPROTONOSUPPORT,EPROTOTYPE:En.WASI_EPROTOTYPE,ERANGE:En.WASI_ERANGE,EROFS:En.WASI_EROFS,ESPIPE:En.WASI_ESPIPE,ESRCH:En.WASI_ESRCH,ESTALE:En.WASI_ESTALE,ETIMEDOUT:En.WASI_ETIMEDOUT,ETXTBSY:En.WASI_ETXTBSY,EXDEV:En.WASI_EXDEV},En.SIGNAL_MAP={[En.WASI_SIGHUP]:"SIGHUP",[En.WASI_SIGINT]:"SIGINT",[En.WASI_SIGQUIT]:"SIGQUIT",[En.WASI_SIGILL]:"SIGILL",[En.WASI_SIGTRAP]:"SIGTRAP",[En.WASI_SIGABRT]:"SIGABRT",[En.WASI_SIGBUS]:"SIGBUS",[En.WASI_SIGFPE]:"SIGFPE",[En.WASI_SIGKILL]:"SIGKILL",[En.WASI_SIGUSR1]:"SIGUSR1",[En.WASI_SIGSEGV]:"SIGSEGV",[En.WASI_SIGUSR2]:"SIGUSR2",[En.WASI_SIGPIPE]:"SIGPIPE",[En.WASI_SIGALRM]:"SIGALRM",[En.WASI_SIGTERM]:"SIGTERM",[En.WASI_SIGCHLD]:"SIGCHLD",[En.WASI_SIGCONT]:"SIGCONT",[En.WASI_SIGSTOP]:"SIGSTOP",[En.WASI_SIGTSTP]:"SIGTSTP",[En.WASI_SIGTTIN]:"SIGTTIN",[En.WASI_SIGTTOU]:"SIGTTOU",[En.WASI_SIGURG]:"SIGURG",[En.WASI_SIGXCPU]:"SIGXCPU",[En.WASI_SIGXFSZ]:"SIGXFSZ",[En.WASI_SIGVTALRM]:"SIGVTALRM"};const Sn=En.WASI_RIGHT_FD_DATASYNC|En.WASI_RIGHT_FD_READ|En.WASI_RIGHT_FD_SYNC|En.WASI_RIGHT_FD_ADVISE|En.WASI_RIGHT_FD_FILESTAT_GET|En.WASI_RIGHT_POLL_FD_READWRITE,In=En.WASI_RIGHT_FD_DATASYNC|En.WASI_RIGHT_FD_WRITE|En.WASI_RIGHT_FD_SYNC|En.WASI_RIGHT_FD_ADVISE|En.WASI_RIGHT_FD_FILESTAT_GET|En.WASI_RIGHT_POLL_FD_READWRITE,mn=In,An=t=>{const e=Math.trunc(t),r=cn.BigIntPolyfill(Math.round(1e6*(t-e)));return cn.BigIntPolyfill(e)*cn.BigIntPolyfill(1e6)+r},vn=t=>{"number"==typeof t&&(t=Math.trunc(t));const e=cn.BigIntPolyfill(t);return Number(e/cn.BigIntPolyfill(1e6))},wn=t=>(...e)=>{try{return t(...e)}catch(t){if(t&&t.code&&"string"==typeof t.code)return En.ERROR_MAP[t.code]||En.WASI_EINVAL;if(t instanceof Rn)return t.errno;throw t}},Tn=(t,e)=>{const r=t.FD_MAP.get(e);if(!r)throw new Rn(En.WASI_EBADF);if(void 0===r.filetype){const n=t.bindings.fs.fstatSync(r.real),{filetype:i,rightsBase:o,rightsInheriting:s}=bn(t,e,n);r.filetype=i,r.rights||(r.rights={base:o,inheriting:s})}return r},bn=(t,e,r)=>{switch(!0){case r.isBlockDevice():return{filetype:En.WASI_FILETYPE_BLOCK_DEVICE,rightsBase:En.RIGHTS_BLOCK_DEVICE_BASE,rightsInheriting:En.RIGHTS_BLOCK_DEVICE_INHERITING};case r.isCharacterDevice():{const r=En.WASI_FILETYPE_CHARACTER_DEVICE;return void 0!==e&&t.bindings.isTTY(e)?{filetype:r,rightsBase:En.RIGHTS_TTY_BASE,rightsInheriting:En.RIGHTS_TTY_INHERITING}:{filetype:r,rightsBase:En.RIGHTS_CHARACTER_DEVICE_BASE,rightsInheriting:En.RIGHTS_CHARACTER_DEVICE_INHERITING}}case r.isDirectory():return{filetype:En.WASI_FILETYPE_DIRECTORY,rightsBase:En.RIGHTS_DIRECTORY_BASE,rightsInheriting:En.RIGHTS_DIRECTORY_INHERITING};case r.isFIFO():return{filetype:En.WASI_FILETYPE_SOCKET_STREAM,rightsBase:En.RIGHTS_SOCKET_BASE,rightsInheriting:En.RIGHTS_SOCKET_INHERITING};case r.isFile():return{filetype:En.WASI_FILETYPE_REGULAR_FILE,rightsBase:En.RIGHTS_REGULAR_FILE_BASE,rightsInheriting:En.RIGHTS_REGULAR_FILE_INHERITING};case r.isSocket():return{filetype:En.WASI_FILETYPE_SOCKET_STREAM,rightsBase:En.RIGHTS_SOCKET_BASE,rightsInheriting:En.RIGHTS_SOCKET_INHERITING};case r.isSymbolicLink():return{filetype:En.WASI_FILETYPE_SYMBOLIC_LINK,rightsBase:cn.BigIntPolyfill(0),rightsInheriting:cn.BigIntPolyfill(0)};default:return{filetype:En.WASI_FILETYPE_UNKNOWN,rightsBase:cn.BigIntPolyfill(0),rightsInheriting:cn.BigIntPolyfill(0)}}};class Rn extends Error{constructor(t){super(),this.errno=t,Object.setPrototypeOf(this,Rn.prototype)}}hn.WASIError=Rn;class On extends Error{constructor(t){super(`WASI Exit error: ${t}`),this.code=t,Object.setPrototypeOf(this,On.prototype)}}hn.WASIExitError=On;class Nn extends Error{constructor(t){super(`WASI Kill signal: ${t}`),this.signal=t,Object.setPrototypeOf(this,Nn.prototype)}}hn.WASIKillError=Nn;class Ln{constructor(t){let e={};t&&t.preopens?e=t.preopens:t&&t.preopenDirectories&&(e=t.preopenDirectories);let r={};t&&t.env&&(r=t.env);let n,i=[];t&&t.args&&(i=t.args),t&&t.bindings&&(n=t.bindings),this.memory=void 0,this.view=void 0,this.bindings=n,this.FD_MAP=new Map([[En.WASI_STDIN_FILENO,{real:0,filetype:En.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:Sn,inheriting:cn.BigIntPolyfill(0)},path:void 0}],[En.WASI_STDOUT_FILENO,{real:1,filetype:En.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:In,inheriting:cn.BigIntPolyfill(0)},path:void 0}],[En.WASI_STDERR_FILENO,{real:2,filetype:En.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:mn,inheriting:cn.BigIntPolyfill(0)},path:void 0}]]);let o=this.bindings.fs,s=this.bindings.path;for(const[t,r]of Object.entries(e)){const e=o.openSync(r,o.constants.O_RDONLY),n=[...this.FD_MAP.keys()].reverse()[0]+1;this.FD_MAP.set(n,{real:e,filetype:En.WASI_FILETYPE_DIRECTORY,rights:{base:En.RIGHTS_DIRECTORY_BASE,inheriting:En.RIGHTS_DIRECTORY_INHERITING},fakePath:t,path:r})}const a=(t,e)=>{this.refreshMemory();return Array.from({length:e},((e,r)=>{const n=t+8*r,i=this.view.getUint32(n,!0),o=this.view.getUint32(n+4,!0);return new Uint8Array(this.memory.buffer,i,o)}))},f=(t,e)=>{const r=Tn(this,t);if(e!==cn.BigIntPolyfill(0)&&(r.rights.base&e)===cn.BigIntPolyfill(0))throw new Rn(En.WASI_EPERM);return r},u=n.hrtime(),h=t=>{switch(t){case En.WASI_CLOCK_MONOTONIC:return n.hrtime();case En.WASI_CLOCK_REALTIME:return An(Date.now());case En.WASI_CLOCK_PROCESS_CPUTIME_ID:case En.WASI_CLOCK_THREAD_CPUTIME_ID:return n.hrtime()-u;default:return null}};this.wasiImport={args_get:(t,e)=>{this.refreshMemory();let r=t,n=e;return i.forEach((t=>{this.view.setUint32(r,n,!0),r+=4,n+=_n.default.from(this.memory.buffer).write(`${t}\0`,n)})),En.WASI_ESUCCESS},args_sizes_get:(t,e)=>{this.refreshMemory(),this.view.setUint32(t,i.length,!0);const r=i.reduce(((t,e)=>t+_n.default.byteLength(e)+1),0);return this.view.setUint32(e,r,!0),En.WASI_ESUCCESS},environ_get:(t,e)=>{this.refreshMemory();let n=t,i=e;return Object.entries(r).forEach((([t,e])=>{this.view.setUint32(n,i,!0),n+=4,i+=_n.default.from(this.memory.buffer).write(`${t}=${e}\0`,i)})),En.WASI_ESUCCESS},environ_sizes_get:(t,e)=>{this.refreshMemory();const n=Object.entries(r).map((([t,e])=>`${t}=${e}\0`)),i=n.reduce(((t,e)=>t+_n.default.byteLength(e)),0);return this.view.setUint32(t,n.length,!0),this.view.setUint32(e,i,!0),En.WASI_ESUCCESS},clock_res_get:(t,e)=>{let r;switch(t){case En.WASI_CLOCK_MONOTONIC:case En.WASI_CLOCK_PROCESS_CPUTIME_ID:case En.WASI_CLOCK_THREAD_CPUTIME_ID:r=cn.BigIntPolyfill(1);break;case En.WASI_CLOCK_REALTIME:r=cn.BigIntPolyfill(1e3)}return this.view.setBigUint64(e,r),En.WASI_ESUCCESS},clock_time_get:(t,e,r)=>{this.refreshMemory();const n=h(t);return null===n?En.WASI_EINVAL:(this.view.setBigUint64(r,cn.BigIntPolyfill(n),!0),En.WASI_ESUCCESS)},fd_advise:wn(((t,e,r,n)=>(f(t,En.WASI_RIGHT_FD_ADVISE),En.WASI_ENOSYS))),fd_allocate:wn(((t,e,r)=>(f(t,En.WASI_RIGHT_FD_ALLOCATE),En.WASI_ENOSYS))),fd_close:wn((t=>{const e=f(t,cn.BigIntPolyfill(0));return o.closeSync(e.real),this.FD_MAP.delete(t),En.WASI_ESUCCESS})),fd_datasync:wn((t=>{const e=f(t,En.WASI_RIGHT_FD_DATASYNC);return o.fdatasyncSync(e.real),En.WASI_ESUCCESS})),fd_fdstat_get:wn(((t,e)=>{const r=f(t,cn.BigIntPolyfill(0));return this.refreshMemory(),this.view.setUint8(e,r.filetype),this.view.setUint16(e+2,0,!0),this.view.setUint16(e+4,0,!0),this.view.setBigUint64(e+8,cn.BigIntPolyfill(r.rights.base),!0),this.view.setBigUint64(e+8+8,cn.BigIntPolyfill(r.rights.inheriting),!0),En.WASI_ESUCCESS})),fd_fdstat_set_flags:wn(((t,e)=>(f(t,En.WASI_RIGHT_FD_FDSTAT_SET_FLAGS),En.WASI_ENOSYS))),fd_fdstat_set_rights:wn(((t,e,r)=>{const n=f(t,cn.BigIntPolyfill(0));if((n.rights.base|e)>n.rights.base)return En.WASI_EPERM;return(n.rights.inheriting|r)>n.rights.inheriting?En.WASI_EPERM:(n.rights.base=e,n.rights.inheriting=r,En.WASI_ESUCCESS)})),fd_filestat_get:wn(((t,e)=>{const r=f(t,En.WASI_RIGHT_FD_FILESTAT_GET),n=o.fstatSync(r.real);return this.refreshMemory(),this.view.setBigUint64(e,cn.BigIntPolyfill(n.dev),!0),e+=8,this.view.setBigUint64(e,cn.BigIntPolyfill(n.ino),!0),e+=8,this.view.setUint8(e,r.filetype),e+=8,this.view.setBigUint64(e,cn.BigIntPolyfill(n.nlink),!0),e+=8,this.view.setBigUint64(e,cn.BigIntPolyfill(n.size),!0),e+=8,this.view.setBigUint64(e,An(n.atimeMs),!0),e+=8,this.view.setBigUint64(e,An(n.mtimeMs),!0),e+=8,this.view.setBigUint64(e,An(n.ctimeMs),!0),En.WASI_ESUCCESS})),fd_filestat_set_size:wn(((t,e)=>{const r=f(t,En.WASI_RIGHT_FD_FILESTAT_SET_SIZE);return o.ftruncateSync(r.real,Number(e)),En.WASI_ESUCCESS})),fd_filestat_set_times:wn(((t,e,r,n)=>{const i=f(t,En.WASI_RIGHT_FD_FILESTAT_SET_TIMES),s=o.fstatSync(i.real);let a=s.atime,u=s.mtime;const c=vn(h(En.WASI_CLOCK_REALTIME)),l=En.WASI_FILESTAT_SET_ATIM|En.WASI_FILESTAT_SET_ATIM_NOW;if((n&l)===l)return En.WASI_EINVAL;const p=En.WASI_FILESTAT_SET_MTIM|En.WASI_FILESTAT_SET_MTIM_NOW;return(n&p)===p?En.WASI_EINVAL:((n&En.WASI_FILESTAT_SET_ATIM)===En.WASI_FILESTAT_SET_ATIM?a=vn(e):(n&En.WASI_FILESTAT_SET_ATIM_NOW)===En.WASI_FILESTAT_SET_ATIM_NOW&&(a=c),(n&En.WASI_FILESTAT_SET_MTIM)===En.WASI_FILESTAT_SET_MTIM?u=vn(r):(n&En.WASI_FILESTAT_SET_MTIM_NOW)===En.WASI_FILESTAT_SET_MTIM_NOW&&(u=c),o.futimesSync(i.real,new Date(a),new Date(u)),En.WASI_ESUCCESS)})),fd_prestat_get:wn(((t,e)=>{const r=f(t,cn.BigIntPolyfill(0));return r.path?(this.refreshMemory(),this.view.setUint8(e,En.WASI_PREOPENTYPE_DIR),this.view.setUint32(e+4,_n.default.byteLength(r.fakePath),!0),En.WASI_ESUCCESS):En.WASI_EINVAL})),fd_prestat_dir_name:wn(((t,e,r)=>{const n=f(t,cn.BigIntPolyfill(0));return n.path?(this.refreshMemory(),_n.default.from(this.memory.buffer).write(n.fakePath,e,r,"utf8"),En.WASI_ESUCCESS):En.WASI_EINVAL})),fd_pwrite:wn(((t,e,r,n,i)=>{const s=f(t,En.WASI_RIGHT_FD_WRITE|En.WASI_RIGHT_FD_SEEK);let u=0;return a(e,r).forEach((t=>{let e=0;for(;e<t.byteLength;)e+=o.writeSync(s.real,t,e,t.byteLength-e,Number(n)+u+e);u+=e})),this.view.setUint32(i,u,!0),En.WASI_ESUCCESS})),fd_write:wn(((t,e,r,n)=>{const i=f(t,En.WASI_RIGHT_FD_WRITE);let s=0;return a(e,r).forEach((t=>{let e=0;for(;e<t.byteLength;){const r=o.writeSync(i.real,t,e,t.byteLength-e,i.offset?Number(i.offset):null);i.offset&&(i.offset+=cn.BigIntPolyfill(r)),e+=r}s+=e})),this.view.setUint32(n,s,!0),En.WASI_ESUCCESS})),fd_pread:wn(((t,e,r,n,i)=>{const s=f(t,En.WASI_RIGHT_FD_READ|En.WASI_RIGHT_FD_SEEK);let u=0;t:for(const t of a(e,r)){let e=0;for(;e<t.byteLength;){const r=t.byteLength-e,i=o.readSync(s.real,t,e,t.byteLength-e,Number(n)+u+e);if(e+=i,u+=i,0===i||i<r)break t}u+=e}return this.view.setUint32(i,u,!0),En.WASI_ESUCCESS})),fd_read:wn(((t,e,r,n)=>{const i=f(t,En.WASI_RIGHT_FD_READ),s=0===i.real;let u=0;t:for(const t of a(e,r)){let e=0;for(;e<t.byteLength;){let r=t.byteLength-e,n=s||void 0===i.offset?null:Number(i.offset),a=o.readSync(i.real,t,e,r,n);if(s||(i.offset=(i.offset?i.offset:cn.BigIntPolyfill(0))+cn.BigIntPolyfill(a)),e+=a,u+=a,0===a||a<r)break t}}return this.view.setUint32(n,u,!0),En.WASI_ESUCCESS})),fd_readdir:wn(((t,e,r,n,i)=>{const a=f(t,En.WASI_RIGHT_FD_READDIR);this.refreshMemory();const u=o.readdirSync(a.path,{withFileTypes:!0}),h=e;for(let t=Number(n);t<u.length;t+=1){const n=u[t];let i=_n.default.byteLength(n.name);if(e-h>r)break;if(this.view.setBigUint64(e,cn.BigIntPolyfill(t+1),!0),(e+=8)-h>r)break;const f=o.statSync(s.resolve(a.path,n.name));if(this.view.setBigUint64(e,cn.BigIntPolyfill(f.ino),!0),(e+=8)-h>r)break;if(this.view.setUint32(e,i,!0),(e+=4)-h>r)break;let c;switch(!0){case f.isBlockDevice():c=En.WASI_FILETYPE_BLOCK_DEVICE;break;case f.isCharacterDevice():c=En.WASI_FILETYPE_CHARACTER_DEVICE;break;case f.isDirectory():c=En.WASI_FILETYPE_DIRECTORY;break;case f.isFIFO():c=En.WASI_FILETYPE_SOCKET_STREAM;break;case f.isFile():c=En.WASI_FILETYPE_REGULAR_FILE;break;case f.isSocket():c=En.WASI_FILETYPE_SOCKET_STREAM;break;case f.isSymbolicLink():c=En.WASI_FILETYPE_SYMBOLIC_LINK;break;default:c=En.WASI_FILETYPE_UNKNOWN}if(this.view.setUint8(e,c),e+=1,(e+=3)+i>=h+r)break;_n.default.from(this.memory.buffer).write(n.name,e),e+=i}const c=e-h;return this.view.setUint32(i,Math.min(c,r),!0),En.WASI_ESUCCESS})),fd_renumber:wn(((t,e)=>(f(t,cn.BigIntPolyfill(0)),f(e,cn.BigIntPolyfill(0)),o.closeSync(this.FD_MAP.get(t).real),this.FD_MAP.set(t,this.FD_MAP.get(e)),this.FD_MAP.delete(e),En.WASI_ESUCCESS))),fd_seek:wn(((t,e,r,n)=>{const i=f(t,En.WASI_RIGHT_FD_SEEK);switch(this.refreshMemory(),r){case En.WASI_WHENCE_CUR:i.offset=(i.offset?i.offset:cn.BigIntPolyfill(0))+cn.BigIntPolyfill(e);break;case En.WASI_WHENCE_END:const{size:t}=o.fstatSync(i.real);i.offset=cn.BigIntPolyfill(t)+cn.BigIntPolyfill(e);break;case En.WASI_WHENCE_SET:i.offset=cn.BigIntPolyfill(e)}return this.view.setBigUint64(n,i.offset,!0),En.WASI_ESUCCESS})),fd_tell:wn(((t,e)=>{const r=f(t,En.WASI_RIGHT_FD_TELL);return this.refreshMemory(),r.offset||(r.offset=cn.BigIntPolyfill(0)),this.view.setBigUint64(e,r.offset,!0),En.WASI_ESUCCESS})),fd_sync:wn((t=>{const e=f(t,En.WASI_RIGHT_FD_SYNC);return o.fsyncSync(e.real),En.WASI_ESUCCESS})),path_create_directory:wn(((t,e,r)=>{const n=f(t,En.WASI_RIGHT_PATH_CREATE_DIRECTORY);if(!n.path)return En.WASI_EINVAL;this.refreshMemory();const i=_n.default.from(this.memory.buffer,e,r).toString();return o.mkdirSync(s.resolve(n.path,i)),En.WASI_ESUCCESS})),path_filestat_get:wn(((t,e,r,n,i)=>{const a=f(t,En.WASI_RIGHT_PATH_FILESTAT_GET);if(!a.path)return En.WASI_EINVAL;this.refreshMemory();const u=_n.default.from(this.memory.buffer,r,n).toString(),h=o.statSync(s.resolve(a.path,u));return this.view.setBigUint64(i,cn.BigIntPolyfill(h.dev),!0),i+=8,this.view.setBigUint64(i,cn.BigIntPolyfill(h.ino),!0),i+=8,this.view.setUint8(i,bn(this,void 0,h).filetype),i+=8,this.view.setBigUint64(i,cn.BigIntPolyfill(h.nlink),!0),i+=8,this.view.setBigUint64(i,cn.BigIntPolyfill(h.size),!0),i+=8,this.view.setBigUint64(i,An(h.atimeMs),!0),i+=8,this.view.setBigUint64(i,An(h.mtimeMs),!0),i+=8,this.view.setBigUint64(i,An(h.ctimeMs),!0),En.WASI_ESUCCESS})),path_filestat_set_times:wn(((t,e,r,n,i,a,u)=>{const c=f(t,En.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);if(!c.path)return En.WASI_EINVAL;this.refreshMemory();const l=o.fstatSync(c.real);let p=l.atime,d=l.mtime;const _=vn(h(En.WASI_CLOCK_REALTIME)),y=En.WASI_FILESTAT_SET_ATIM|En.WASI_FILESTAT_SET_ATIM_NOW;if((u&y)===y)return En.WASI_EINVAL;const g=En.WASI_FILESTAT_SET_MTIM|En.WASI_FILESTAT_SET_MTIM_NOW;if((u&g)===g)return En.WASI_EINVAL;(u&En.WASI_FILESTAT_SET_ATIM)===En.WASI_FILESTAT_SET_ATIM?p=vn(i):(u&En.WASI_FILESTAT_SET_ATIM_NOW)===En.WASI_FILESTAT_SET_ATIM_NOW&&(p=_),(u&En.WASI_FILESTAT_SET_MTIM)===En.WASI_FILESTAT_SET_MTIM?d=vn(a):(u&En.WASI_FILESTAT_SET_MTIM_NOW)===En.WASI_FILESTAT_SET_MTIM_NOW&&(d=_);const E=_n.default.from(this.memory.buffer,r,n).toString();return o.utimesSync(s.resolve(c.path,E),new Date(p),new Date(d)),En.WASI_ESUCCESS})),path_link:wn(((t,e,r,n,i,a,u)=>{const h=f(t,En.WASI_RIGHT_PATH_LINK_SOURCE),c=f(i,En.WASI_RIGHT_PATH_LINK_TARGET);if(!h.path||!c.path)return En.WASI_EINVAL;this.refreshMemory();const l=_n.default.from(this.memory.buffer,r,n).toString(),p=_n.default.from(this.memory.buffer,a,u).toString();return o.linkSync(s.resolve(h.path,l),s.resolve(c.path,p)),En.WASI_ESUCCESS})),path_open:wn(((t,e,r,n,i,a,u,h,c)=>{const l=f(t,En.WASI_RIGHT_PATH_OPEN);a=cn.BigIntPolyfill(a),u=cn.BigIntPolyfill(u);const p=(a&(En.WASI_RIGHT_FD_READ|En.WASI_RIGHT_FD_READDIR))!==cn.BigIntPolyfill(0),d=(a&(En.WASI_RIGHT_FD_DATASYNC|En.WASI_RIGHT_FD_WRITE|En.WASI_RIGHT_FD_ALLOCATE|En.WASI_RIGHT_FD_FILESTAT_SET_SIZE))!==cn.BigIntPolyfill(0);let _;d&&p?_=o.constants.O_RDWR:p?_=o.constants.O_RDONLY:d&&(_=o.constants.O_WRONLY);let y=a|En.WASI_RIGHT_PATH_OPEN,g=a|u;0!=(i&En.WASI_O_CREAT)&&(_|=o.constants.O_CREAT,y|=En.WASI_RIGHT_PATH_CREATE_FILE),0!=(i&En.WASI_O_DIRECTORY)&&(_|=o.constants.O_DIRECTORY),0!=(i&En.WASI_O_EXCL)&&(_|=o.constants.O_EXCL),0!=(i&En.WASI_O_TRUNC)&&(_|=o.constants.O_TRUNC,y|=En.WASI_RIGHT_PATH_FILESTAT_SET_SIZE),0!=(h&En.WASI_FDFLAG_APPEND)&&(_|=o.constants.O_APPEND),0!=(h&En.WASI_FDFLAG_DSYNC)&&(o.constants.O_DSYNC?_|=o.constants.O_DSYNC:_|=o.constants.O_SYNC,g|=En.WASI_RIGHT_FD_DATASYNC),0!=(h&En.WASI_FDFLAG_NONBLOCK)&&(_|=o.constants.O_NONBLOCK),0!=(h&En.WASI_FDFLAG_RSYNC)&&(o.constants.O_RSYNC?_|=o.constants.O_RSYNC:_|=o.constants.O_SYNC,g|=En.WASI_RIGHT_FD_SYNC),0!=(h&En.WASI_FDFLAG_SYNC)&&(_|=o.constants.O_SYNC,g|=En.WASI_RIGHT_FD_SYNC),d&&0==(_&(o.constants.O_APPEND|o.constants.O_TRUNC))&&(g|=En.WASI_RIGHT_FD_SEEK),this.refreshMemory();const E=_n.default.from(this.memory.buffer,r,n).toString(),S=s.resolve(l.path,E);if(s.relative(l.path,S).startsWith(".."))return En.WASI_ENOTCAPABLE;let I,m,A;try{if(I=o.realpathSync(S),s.relative(l.path,I).startsWith(".."))return En.WASI_ENOTCAPABLE}catch(t){if("ENOENT"!==t.code)throw t;I=S}try{m=o.statSync(I).isDirectory()}catch(t){}A=!d&&m?o.openSync(I,o.constants.O_RDONLY):o.openSync(I,_);const v=[...this.FD_MAP.keys()].reverse()[0]+1;return this.FD_MAP.set(v,{real:A,filetype:void 0,rights:{base:y,inheriting:g},path:I}),Tn(this,v),this.view.setUint32(c,v,!0),En.WASI_ESUCCESS})),path_readlink:wn(((t,e,r,n,i,a)=>{const u=f(t,En.WASI_RIGHT_PATH_READLINK);if(!u.path)return En.WASI_EINVAL;this.refreshMemory();const h=_n.default.from(this.memory.buffer,e,r).toString(),c=s.resolve(u.path,h),l=o.readlinkSync(c),p=_n.default.from(this.memory.buffer).write(l,n,i);return this.view.setUint32(a,p,!0),En.WASI_ESUCCESS})),path_remove_directory:wn(((t,e,r)=>{const n=f(t,En.WASI_RIGHT_PATH_REMOVE_DIRECTORY);if(!n.path)return En.WASI_EINVAL;this.refreshMemory();const i=_n.default.from(this.memory.buffer,e,r).toString();return o.rmdirSync(s.resolve(n.path,i)),En.WASI_ESUCCESS})),path_rename:wn(((t,e,r,n,i,a)=>{const u=f(t,En.WASI_RIGHT_PATH_RENAME_SOURCE),h=f(n,En.WASI_RIGHT_PATH_RENAME_TARGET);if(!u.path||!h.path)return En.WASI_EINVAL;this.refreshMemory();const c=_n.default.from(this.memory.buffer,e,r).toString(),l=_n.default.from(this.memory.buffer,i,a).toString();return o.renameSync(s.resolve(u.path,c),s.resolve(h.path,l)),En.WASI_ESUCCESS})),path_symlink:wn(((t,e,r,n,i)=>{const a=f(r,En.WASI_RIGHT_PATH_SYMLINK);if(!a.path)return En.WASI_EINVAL;this.refreshMemory();const u=_n.default.from(this.memory.buffer,t,e).toString(),h=_n.default.from(this.memory.buffer,n,i).toString();return o.symlinkSync(u,s.resolve(a.path,h)),En.WASI_ESUCCESS})),path_unlink_file:wn(((t,e,r)=>{const n=f(t,En.WASI_RIGHT_PATH_UNLINK_FILE);if(!n.path)return En.WASI_EINVAL;this.refreshMemory();const i=_n.default.from(this.memory.buffer,e,r).toString();return o.unlinkSync(s.resolve(n.path,i)),En.WASI_ESUCCESS})),poll_oneoff:(t,e,r,i)=>{let o=0,s=0;this.refreshMemory();for(let n=0;n<r;n+=1){const r=this.view.getBigUint64(t,!0);t+=8;const n=this.view.getUint8(t);switch(t+=1,n){case En.WASI_EVENTTYPE_CLOCK:{t+=7;this.view.getBigUint64(t,!0);t+=8;const n=this.view.getUint32(t,!0);t+=4,t+=4;const i=this.view.getBigUint64(t,!0);t+=8;this.view.getBigUint64(t,!0);t+=8;const a=this.view.getUint16(t,!0);t+=2,t+=6;const f=1===a;let u=En.WASI_ESUCCESS;const c=cn.BigIntPolyfill(h(n));if(null===c)u=En.WASI_EINVAL;else{const t=f?i:c+i;s=t>s?t:s}this.view.setBigUint64(e,r,!0),e+=8,this.view.setUint16(e,u,!0),e+=2,this.view.setUint8(e,En.WASI_EVENTTYPE_CLOCK),e+=1,e+=5,o+=1;break}case En.WASI_EVENTTYPE_FD_READ:case En.WASI_EVENTTYPE_FD_WRITE:t+=3;this.view.getUint32(t,!0);t+=4,this.view.setBigUint64(e,r,!0),e+=8,this.view.setUint16(e,En.WASI_ENOSYS,!0),e+=2,this.view.setUint8(e,n),e+=1,e+=5,o+=1;break;default:return En.WASI_EINVAL}}for(this.view.setUint32(i,o,!0);n.hrtime()<s;);return En.WASI_ESUCCESS},proc_exit:t=>(n.exit(t),En.WASI_ESUCCESS),proc_raise:t=>t in En.SIGNAL_MAP?(n.kill(En.SIGNAL_MAP[t]),En.WASI_ESUCCESS):En.WASI_EINVAL,random_get:(t,e)=>(this.refreshMemory(),n.randomFillSync(new Uint8Array(this.memory.buffer),t,e),En.WASI_ESUCCESS),sched_yield:()=>En.WASI_ESUCCESS,sock_recv:()=>En.WASI_ENOSYS,sock_send:()=>En.WASI_ENOSYS,sock_shutdown:()=>En.WASI_ENOSYS},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((t=>{const e=this.wasiImport[t];this.wasiImport[t]=function(...r){console.log(`WASI: wasiImport called: ${t} (${r})`);try{let t=e(...r);return console.log(`WASI:  => ${t}`),t}catch(t){throw console.log(`Catched error: ${t}`),t}}}))}refreshMemory(){this.view&&0!==this.view.buffer.byteLength||(this.view=new pn.DataViewPolyfill(this.memory.buffer))}setMemory(t){this.memory=t}start(t){const e=t.exports;if(null===e||"object"!=typeof e)throw new Error(`instance.exports must be an Object. Received ${e}.`);const{memory:r}=e;if(!(r instanceof WebAssembly.Memory))throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${r}.`);this.setMemory(r),e._start&&e._start()}getImportNamespace(t){let e=null;for(let r of WebAssembly.Module.imports(t))if("function"===r.kind&&r.module.startsWith("wasi_"))if(e){if(e!==r.module)throw new Error("Multiple namespaces detected.")}else e=r.module;return e}getImports(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw new Error("Can't detect a WASI namespace for the WebAssembly Module")}}}hn.default=Ln,Ln.defaultBindings=undefined,hn.WASI=Ln;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.default=t=>e=>{const r=t(e);return 1e9*r[0]+r[1]};const Pn={hrtime:Cn.default(nn.default),exit:t=>{throw new hn.WASIExitError(t)},kill:t=>{throw new hn.WASIKillError(t)},randomFillSync:Ae,isTTY:()=>!0,path:sn,fs:null};function Wn(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function Dn(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;t=r.call(t);var n,i=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)i.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i}function Bn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Dn(arguments[e]));return t}Re.default=Pn;var Fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{};function Un(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mn(t,e){return t(e={exports:{}},e.exports),e.exports}var kn=Mn((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}}));Un(kn);var Gn=Mn((function(t,e){e.default="function"==typeof BigInt?BigInt:function(){throw Error("BigInt is not supported in this environment.")}})),Hn=Mn((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=kn.constants.S_IFMT,n=kn.constants.S_IFDIR,i=kn.constants.S_IFREG,o=kn.constants.S_IFBLK,s=kn.constants.S_IFCHR,a=kn.constants.S_IFLNK,f=kn.constants.S_IFIFO,u=kn.constants.S_IFSOCK;t=function(){function t(){}return t.build=function(e,r){void 0===r&&(r=!1);var n=new t,i=e.gid,o=e.atime,s=e.mtime,a=e.ctime;return r=r?Gn.default:function(t){return t},n.uid=r(e.uid),n.gid=r(i),n.rdev=r(0),n.blksize=r(4096),n.ino=r(e.ino),n.size=r(e.getSize()),n.blocks=r(1),n.atime=o,n.mtime=s,n.ctime=a,n.birthtime=a,n.atimeMs=r(o.getTime()),n.mtimeMs=r(s.getTime()),i=r(a.getTime()),n.ctimeMs=i,n.birthtimeMs=i,n.dev=r(0),n.mode=r(e.mode),n.nlink=r(e.nlink),n},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&r)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(n)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(u)},t}(),e.Stats=t,e.default=t}));Un(Hn);var xn=void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Yn=[],jn=[],Vn="undefined"!=typeof Uint8Array?Uint8Array:Array,Kn=!1;function qn(){Kn=!0;for(var t=0;64>t;++t)Yn[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],jn["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;jn[45]=62,jn[95]=63}function zn(t,e,r){for(var n=[],i=e;i<r;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],n.push(Yn[e>>18&63]+Yn[e>>12&63]+Yn[e>>6&63]+Yn[63&e]);return n.join("")}function Xn(t){Kn||qn();for(var e=t.length,r=e%3,n="",i=[],o=0,s=e-r;o<s;o+=16383)i.push(zn(t,o,o+16383>s?s:o+16383));return 1===r?(t=t[e-1],n+=Yn[t>>2],n+=Yn[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=Yn[t>>10],n+=Yn[t>>4&63],n+=Yn[t<<2&63],n+="="),i.push(n),i.join("")}function Jn(t,e,r,n,i){var o=8*i-n-1,s=(1<<o)-1,a=s>>1,f=-7,u=r?-1:1,h=t[e+(i=r?i-1:0)];for(i+=u,r=h&(1<<-f)-1,h>>=-f,f+=o;0<f;r=256*r+t[e+i],i+=u,f-=8);for(o=r&(1<<-f)-1,r>>=-f,f+=n;0<f;o=256*o+t[e+i],i+=u,f-=8);if(0===r)r=1-a;else{if(r===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),r-=a}return(h?-1:1)*o*Math.pow(2,r-n)}function Zn(t,e,r,n,i,o){var s,a=8*o-i-1,f=(1<<a)-1,u=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var c=n?1:-1,l=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=f):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+u?e+h/s:e+h*Math.pow(2,1-u))*s&&(n++,s/=2),n+u>=f?(e=0,n=f):1<=n+u?(e=(e*s-1)*Math.pow(2,i),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,i),n=0));8<=i;t[r+o]=255&e,o+=c,e/=256,i-=8);for(n=n<<i|e,a+=i;0<a;t[r+o]=255&n,o+=c,n/=256,a-=8);t[r+o-c]|=128*l}var $n={}.toString,Qn=Array.isArray||function(t){return"[object Array]"==$n.call(t)};ri.TYPED_ARRAY_SUPPORT=void 0===xn.TYPED_ARRAY_SUPPORT||xn.TYPED_ARRAY_SUPPORT;var ti=ri.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function ei(t,e){if((ri.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return ri.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=ri.prototype:(null===t&&(t=new ri(e)),t.length=e),t}function ri(t,e,r){if(!(ri.TYPED_ARRAY_SUPPORT||this instanceof ri))return new ri(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return oi(this,t)}return ni(this,t,e,r)}function ni(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),ri.TYPED_ARRAY_SUPPORT?(t=e).__proto__=ri.prototype:t=si(t,e),t}if("string"==typeof e){if(n=t,"string"==typeof(t=r)&&""!==t||(t="utf8"),!ri.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(n=ei(n,r=0|ui(e,t))).write(e,t))!==r&&(n=n.slice(0,e)),n}return function(t,e){if(fi(e)){var r=0|ai(e.length);return 0===(t=ei(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=(r=e.length)!=r),r?ei(t,0):si(t,e);if("Buffer"===e.type&&Qn(e.data))return si(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function ii(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function oi(t,e){if(ii(e),t=ei(t,0>e?0:0|ai(e)),!ri.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function si(t,e){var r=0>e.length?0:0|ai(e.length);t=ei(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function ai(t){if(t>=(ri.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(ri.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function fi(t){return!(null==t||!t._isBuffer)}function ui(t,e){if(fi(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Ai(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return wi(t).length;default:if(n)return Ai(t).length;e=(""+e).toLowerCase(),n=!0}}function hi(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;r<e;++r)n=(t=n)+(n=16>(n=this[r])?"0"+n.toString(16):n.toString(16));return n;case"utf8":case"utf-8":return di(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return e=0===e&&r===this.length?Xn(this):Xn(this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function ci(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function li(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof e&&(e=ri.from(e,n)),fi(e))return 0===e.length?-1:pi(t,e,r,n,i);if("number"==typeof e)return e&=255,ri.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):pi(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function pi(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,f/=2,r/=2}if(i)for(n=-1;r<a;r++)if(o(t,r)===o(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===f)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+f>a&&(r=a-f);0<=r;r--){for(a=!0,n=0;n<f;n++)if(o(t,r+n)!==o(e,n)){a=!1;break}if(a)return r}return-1}function di(t,e,r){r=Math.min(t.length,r);for(var n=[];e<r;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=r)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&(127<(i=(31&i)<<6|63&a)&&(o=i));break;case 3:a=t[e+1];var f=t[e+2];128==(192&a)&&128==(192&f)&&(2047<(i=(15&i)<<12|(63&a)<<6|63&f)&&(55296>i||57343<i)&&(o=i));break;case 4:a=t[e+1],f=t[e+2];var u=t[e+3];128==(192&a)&&128==(192&f)&&128==(192&u)&&(65535<(i=(15&i)<<18|(63&a)<<12|(63&f)<<6|63&u)&&1114112>i&&(o=i))}null===o?(o=65533,s=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),e+=s}if((t=n.length)<=_i)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;e<t;)r+=String.fromCharCode.apply(String,n.slice(e,e+=_i));n=r}return n}ri.poolSize=8192,ri._augment=function(t){return t.__proto__=ri.prototype,t},ri.from=function(t,e,r){return ni(null,t,e,r)},ri.TYPED_ARRAY_SUPPORT&&(ri.prototype.__proto__=Uint8Array.prototype,ri.__proto__=Uint8Array),ri.alloc=function(t,e,r){return ii(t),t=0>=t?ei(null,t):void 0!==e?"string"==typeof r?ei(null,t).fill(e,r):ei(null,t).fill(e):ei(null,t)},ri.allocUnsafe=function(t){return oi(null,t)},ri.allocUnsafeSlow=function(t){return oi(null,t)},ri.isBuffer=bi,ri.compare=function(t,e){if(!fi(t)||!fi(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},ri.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ri.concat=function(t,e){if(!Qn(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return ri.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;e=ri.allocUnsafe(e);var n=0;for(r=0;r<t.length;++r){var i=t[r];if(!fi(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,n),n+=i.length}return e},ri.byteLength=ui,ri.prototype._isBuffer=!0,ri.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ci(this,e,e+1);return this},ri.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ci(this,e,e+3),ci(this,e+1,e+2);return this},ri.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ci(this,e,e+7),ci(this,e+1,e+6),ci(this,e+2,e+5),ci(this,e+3,e+4);return this},ri.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?di(this,0,t):hi.apply(this,arguments)},ri.prototype.equals=function(t){if(!fi(t))throw new TypeError("Argument must be a Buffer");return this===t||0===ri.compare(this,t)},ri.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},ri.prototype.compare=function(t,e,r,n,i){if(!fi(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>e||r>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s);for(n=this.slice(n,i),t=t.slice(e,r),e=0;e<a;++e)if(n[e]!==t[e]){o=n[e],s=t[e];break}return o<s?-1:s<o?1:0},ri.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},ri.prototype.indexOf=function(t,e,r){return li(this,t,e,r,!0)},ri.prototype.lastIndexOf=function(t,e,r){return li(this,t,e,r,!1)},ri.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r))>n&&(r=n):r=n,0!=(n=t.length)%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(t.substr(2*n,2),16),isNaN(i)){t=n;break t}this[e+n]=i}t=n}return t;case"utf8":case"utf-8":return Ti(Ai(t,this.length-e),this,e,r);case"ascii":case"latin1":case"binary":return Ti(vi(t),this,e,r);case"base64":return Ti(wi(t),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=t,i=this.length-e;for(var o=[],s=0;s<n.length&&!(0>(i-=2));++s){var a=n.charCodeAt(s);t=a>>8,a%=256,o.push(a),o.push(t)}return Ti(o,this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},ri.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _i=4096;function yi(t,e,r){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function gi(t,e,r,n,i,o){if(!fi(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Ei(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Si(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function Ii(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}ri.prototype.slice=function(t,e){var r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),ri.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=ri.prototype;else{e=new ri(r=e-t,void 0);for(var n=0;n<r;++n)e[n]=this[n+t]}return e},ri.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||yi(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},ri.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||yi(t,e,this.length),r=this[t+--e];for(var n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},ri.prototype.readUInt8=function(t,e){return e||yi(t,1,this.length),this[t]},ri.prototype.readUInt16LE=function(t,e){return e||yi(t,2,this.length),this[t]|this[t+1]<<8},ri.prototype.readUInt16BE=function(t,e){return e||yi(t,2,this.length),this[t]<<8|this[t+1]},ri.prototype.readUInt32LE=function(t,e){return e||yi(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},ri.prototype.readUInt32BE=function(t,e){return e||yi(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},ri.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||yi(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},ri.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||yi(t,e,this.length),r=e;for(var n=1,i=this[t+--r];0<r&&(n*=256);)i+=this[t+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*e)),i},ri.prototype.readInt8=function(t,e){return e||yi(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},ri.prototype.readInt16LE=function(t,e){return e||yi(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},ri.prototype.readInt16BE=function(t,e){return e||yi(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},ri.prototype.readInt32LE=function(t,e){return e||yi(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},ri.prototype.readInt32BE=function(t,e){return e||yi(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},ri.prototype.readFloatLE=function(t,e){return e||yi(t,4,this.length),Jn(this,t,!0,23,4)},ri.prototype.readFloatBE=function(t,e){return e||yi(t,4,this.length),Jn(this,t,!1,23,4)},ri.prototype.readDoubleLE=function(t,e){return e||yi(t,8,this.length),Jn(this,t,!0,52,8)},ri.prototype.readDoubleBE=function(t,e){return e||yi(t,8,this.length),Jn(this,t,!1,52,8)},ri.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||gi(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},ri.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||gi(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)this[e+n]=t/i&255;return e+r},ri.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,1,255,0),ri.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},ri.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,2,65535,0),ri.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ei(this,t,e,!0),e+2},ri.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,2,65535,0),ri.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ei(this,t,e,!1),e+2},ri.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,4,4294967295,0),ri.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Si(this,t,e,!0),e+4},ri.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,4,4294967295,0),ri.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Si(this,t,e,!1),e+4},ri.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||gi(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n),n=0;var i=1,o=0;for(this[e]=255&t;++n<r&&(i*=256);)0>t&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/i>>0)-o&255;return e+r},ri.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||gi(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=1,o=0;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)0>t&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/i>>0)-o&255;return e+r},ri.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,1,127,-128),ri.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},ri.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,2,32767,-32768),ri.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ei(this,t,e,!0),e+2},ri.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,2,32767,-32768),ri.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ei(this,t,e,!1),e+2},ri.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,4,2147483647,-2147483648),ri.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Si(this,t,e,!0),e+4},ri.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||gi(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),ri.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Si(this,t,e,!1),e+4},ri.prototype.writeFloatLE=function(t,e,r){return r||Ii(this,0,e,4),Zn(this,t,e,!0,23,4),e+4},ri.prototype.writeFloatBE=function(t,e,r){return r||Ii(this,0,e,4),Zn(this,t,e,!1,23,4),e+4},ri.prototype.writeDoubleLE=function(t,e,r){return r||Ii(this,0,e,8),Zn(this,t,e,!0,52,8),e+8},ri.prototype.writeDoubleBE=function(t,e,r){return r||Ii(this,0,e,8),Zn(this,t,e,!1,52,8),e+8},ri.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&r<e&&e<n)for(n=i-1;0<=n;--n)t[n+e]=this[n+r];else if(1e3>i||!ri.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},ri.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!ri.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else for(i=(t=fi(t)?t:Ai(new ri(t,n).toString())).length,n=0;n<r-e;++n)this[n+e]=t[n%i];return this};var mi=/[^+\/0-9A-Za-z-_]/g;function Ai(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--e)break;o.push(r)}else if(2048>r){if(0>(e-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function vi(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function wi(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(mi,"")).length)t="";else for(;0!=t.length%4;)t+="=";Kn||qn();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===t[e-2]?2:"="===t[e-1]?1:0,n=new Vn(3*e/4-r),i=0<r?e-4:e,o=0;for(e=0;e<i;e+=4){var s=jn[t.charCodeAt(e)]<<18|jn[t.charCodeAt(e+1)]<<12|jn[t.charCodeAt(e+2)]<<6|jn[t.charCodeAt(e+3)];n[o++]=s>>16&255,n[o++]=s>>8&255,n[o++]=255&s}return 2===r?(s=jn[t.charCodeAt(e)]<<2|jn[t.charCodeAt(e+1)]>>4,n[o++]=255&s):1===r&&(s=jn[t.charCodeAt(e)]<<10|jn[t.charCodeAt(e+1)]<<4|jn[t.charCodeAt(e+2)]>>2,n[o++]=s>>8&255,n[o++]=255&s),n}function Ti(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function bi(t){return null!=t&&(!!t._isBuffer||Ri(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Ri(t.slice(0,0)))}function Ri(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Oi=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:ti,Buffer:ri,SlowBuffer:function(t){return+t!=t&&(t=0),ri.alloc(+t)},isBuffer:bi}),Ni=Mn((function(t,e){function r(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(Oi.Buffer.bind.apply(Oi.Buffer,n([void 0,t],e)))}var n=Fn&&Fn.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=Oi.Buffer,e.bufferAllocUnsafe=Oi.Buffer.allocUnsafe||r,e.bufferFrom=Oi.Buffer.from||r}));function Li(){throw Error("setTimeout has not been defined")}function Ci(){throw Error("clearTimeout has not been defined")}Un(Ni);var Pi=Li,Wi=Ci;function Di(t){if(Pi===setTimeout)return setTimeout(t,0);if((Pi===Li||!Pi)&&setTimeout)return Pi=setTimeout,setTimeout(t,0);try{return Pi(t,0)}catch(e){try{return Pi.call(null,t,0)}catch(e){return Pi.call(this,t,0)}}}"function"==typeof xn.setTimeout&&(Pi=setTimeout),"function"==typeof xn.clearTimeout&&(Wi=clearTimeout);var Bi,Fi=[],Ui=!1,Mi=-1;function ki(){Ui&&Bi&&(Ui=!1,Bi.length?Fi=Bi.concat(Fi):Mi=-1,Fi.length&&Gi())}function Gi(){if(!Ui){var t=Di(ki);Ui=!0;for(var e=Fi.length;e;){for(Bi=Fi,Fi=[];++Mi<e;)Bi&&Bi[Mi].run();Mi=-1,e=Fi.length}Bi=null,Ui=!1,function(t){if(Wi===clearTimeout)return clearTimeout(t);if((Wi===Ci||!Wi)&&clearTimeout)return Wi=clearTimeout,clearTimeout(t);try{Wi(t)}catch(e){try{return Wi.call(null,t)}catch(e){return Wi.call(this,t)}}}(t)}}function Hi(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Fi.push(new xi(t,e)),1!==Fi.length||Ui||Di(Gi)}function xi(t,e){this.fun=t,this.array=e}function Yi(){}xi.prototype.run=function(){this.fun.apply(null,this.array)};var ji=xn.performance||{},Vi=ji.now||ji.mozNow||ji.msNow||ji.oNow||ji.webkitNow||function(){return(new Date).getTime()},Ki=new Date,qi={nextTick:Hi,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Yi,addListener:Yi,once:Yi,off:Yi,removeListener:Yi,removeAllListeners:Yi,emit:Yi,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Vi.call(ji),r=Math.floor(e);return e=Math.floor(e%1*1e9),t&&(r-=t[0],0>(e-=t[1])&&(r--,e+=1e9)),[r,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Ki)/1e3}},zi="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){function r(){}t.super_=e,r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},Xi=/%[sdj%]/g;function Ji(t){if(!ho(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(eo(arguments[r]));return e.join(" ")}r=1;var n=arguments,i=n.length;e=String(t).replace(Xi,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}));for(var o=n[r];r<i;o=n[++r])e=null!==o&&po(o)?e+" "+eo(o):e+" "+o;return e}function Zi(t,e){if(co(xn.process))return function(){return Zi(t,e).apply(this,arguments)};if(!0===qi.noDeprecation)return t;var r=!1;return function(){if(!r){if(qi.throwDeprecation)throw Error(e);qi.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var $i,Qi={};function to(t){return co($i)&&($i=qi.env.NODE_DEBUG||""),t=t.toUpperCase(),Qi[t]||(new RegExp("\\b"+t+"\\b","i").test($i)?Qi[t]=function(){var e=Ji.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:Qi[t]=function(){}),Qi[t]}function eo(t,e){var r={seen:[],stylize:no};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),fo(e)?r.showHidden=e:e&&Ao(r,e),co(r.showHidden)&&(r.showHidden=!1),co(r.depth)&&(r.depth=2),co(r.colors)&&(r.colors=!1),co(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=ro),io(r,t,r.depth)}function ro(t,e){return(e=eo.styles[e])?"["+eo.colors[e][0]+"m"+t+"["+eo.colors[e][1]+"m":t}function no(t){return t}function io(t,e,r){if(t.customInspect&&e&&go(e.inspect)&&e.inspect!==eo&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return ho(n)||(n=io(t,n,r)),n}if(n=function(t,e){if(co(e))return t.stylize("undefined","undefined");if(ho(e))return e="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",t.stylize(e,"string");if(uo(e))return t.stylize(""+e,"number");if(fo(e))return t.stylize(""+e,"boolean");if(null===e)return t.stylize("null","null")}(t,e))return n;var i=Object.keys(e),o=function(t){var e={};return t.forEach((function(t){e[t]=!0})),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),yo(e)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return oo(e);if(0===i.length){if(go(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(lo(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(_o(e))return t.stylize(Date.prototype.toString.call(e),"date");if(yo(e))return oo(e)}n="";var s=!1,a=["{","}"];return ao(e)&&(s=!0,a=["[","]"]),go(e)&&(n=" [Function"+(e.name?": "+e.name:"")+"]"),lo(e)&&(n=" "+RegExp.prototype.toString.call(e)),_o(e)&&(n=" "+Date.prototype.toUTCString.call(e)),yo(e)&&(n=" "+oo(e)),0!==i.length||s&&0!=e.length?0>r?lo(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),i=s?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(so(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(so(t,e,r,n,i,!0))})),o}(t,e,r,o,i):i.map((function(n){return so(t,e,r,o,n,s)})),t.seen.pop(),function(t,e,r){return 60<t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(i,n,a)):a[0]+n+a[1]}function oo(t){return"["+Error.prototype.toString.call(t)+"]"}function so(t,e,r,n,i,o){var s,a;if((e=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=e.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.set&&(a=t.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(n,i)||(s="["+i+"]"),a||(0>t.seen.indexOf(e.value)?-1<(a=io(t,e.value,null===r?null:r-1)).indexOf("\n")&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),co(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function ao(t){return Array.isArray(t)}function fo(t){return"boolean"==typeof t}function uo(t){return"number"==typeof t}function ho(t){return"string"==typeof t}function co(t){return void 0===t}function lo(t){return po(t)&&"[object RegExp]"===Object.prototype.toString.call(t)}function po(t){return"object"==typeof t&&null!==t}function _o(t){return po(t)&&"[object Date]"===Object.prototype.toString.call(t)}function yo(t){return po(t)&&("[object Error]"===Object.prototype.toString.call(t)||t instanceof Error)}function go(t){return"function"==typeof t}function Eo(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function So(t){return 10>t?"0"+t.toString(10):t.toString(10)}eo.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},eo.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Io="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function mo(){var t=new Date,e=[So(t.getHours()),So(t.getMinutes()),So(t.getSeconds())].join(":");return[t.getDate(),Io[t.getMonth()],e].join(" ")}function Ao(t,e){if(!e||!po(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}var vo={inherits:zi,_extend:Ao,log:function(){console.log("%s - %s",mo(),Ji.apply(null,arguments))},isBuffer:function(t){return bi(t)},isPrimitive:Eo,isFunction:go,isError:yo,isDate:_o,isObject:po,isRegExp:lo,isUndefined:co,isSymbol:function(t){return"symbol"==typeof t},isString:ho,isNumber:uo,isNullOrUndefined:function(t){return null==t},isNull:function(t){return null===t},isBoolean:fo,isArray:ao,inspect:eo,deprecate:Zi,format:Ji,debuglog:to};function wo(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var To,bo=Object.prototype.hasOwnProperty,Ro=Object.keys||function(t){var e,r=[];for(e in t)bo.call(t,e)&&r.push(e);return r},Oo=Array.prototype.slice;function No(){return void 0!==To?To:To="foo"===function(){}.name}function Lo(t){return!bi(t)&&"function"==typeof xn.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer))}function Co(t,e){t||Uo(t,!0,e,"==",Mo)}var Po=/\s*function\s+([^\(\s]*)\s*/;function Wo(t){if(go(t))return No()?t.name:(t=t.toString().match(Po))&&t[1]}function Do(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=Bo(Fo(this.actual),128)+" "+this.operator+" "+Bo(Fo(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||Uo;Error.captureStackTrace?Error.captureStackTrace(this,e):(t=Error()).stack&&(t=t.stack,e=Wo(e),0<=(e=t.indexOf("\n"+e))&&(e=t.indexOf("\n",e+1),t=t.substring(e+1)),this.stack=t)}function Bo(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function Fo(t){return No()||!go(t)?eo(t):"[Function"+((t=Wo(t))?": "+t:"")+"]"}function Uo(t,e,r,n,i){throw new Do({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function Mo(t,e){t||Uo(t,!0,e,"==",Mo)}function ko(t,e,r,n){if(t===e)return!0;if(bi(t)&&bi(e))return 0===wo(t,e);if(_o(t)&&_o(e))return t.getTime()===e.getTime();if(lo(t)&&lo(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(!Lo(t)||!Lo(e)||Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||t instanceof Float32Array||t instanceof Float64Array){if(bi(t)!==bi(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(Eo(t)||Eo(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=Go(t),o=Go(e);if(i&&!o||!i&&o)return!1;if(i)return t=Oo.call(t),e=Oo.call(e),ko(t,e,r);i=Ro(t);var s=Ro(e);if(i.length!==s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;0<=o;o--)if(i[o]!==s[o])return!1;for(o=i.length-1;0<=o;o--)if(s=i[o],!ko(t[s],e[s],r,n))return!1;return!0}(t,e,r,n))}return 0===wo(new Uint8Array(t.buffer),new Uint8Array(e.buffer))}return r?t===e:t==e}function Go(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function Ho(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function xo(t,e,r,n){if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null);try{e()}catch(t){var i=t}e=i,n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!e&&Uo(e,r,"Missing expected exception"+n),i="string"==typeof n;var o=!t&&e&&!r;if((!t&&yo(e)&&i&&Ho(e,r)||o)&&Uo(e,r,"Got unwanted exception"+n),t&&e&&r&&!Ho(e,r)||!t&&e)throw e}Co.AssertionError=Do,zi(Do,Error),Co.fail=Uo,Co.ok=Mo,Co.equal=function t(e,r,n){e!=r&&Uo(e,r,n,"==",t)},Co.notEqual=function t(e,r,n){e==r&&Uo(e,r,n,"!=",t)},Co.deepEqual=function t(e,r,n){ko(e,r,!1)||Uo(e,r,n,"deepEqual",t)},Co.deepStrictEqual=function t(e,r,n){ko(e,r,!0)||Uo(e,r,n,"deepStrictEqual",t)},Co.notDeepEqual=function t(e,r,n){ko(e,r,!1)&&Uo(e,r,n,"notDeepEqual",t)},Co.notDeepStrictEqual=function t(e,r,n){ko(e,r,!0)&&Uo(e,r,n,"notDeepStrictEqual",t)},Co.strictEqual=function t(e,r,n){e!==r&&Uo(e,r,n,"===",t)},Co.notStrictEqual=function t(e,r,n){e===r&&Uo(e,r,n,"!==",t)},Co.throws=function(t,e,r){xo(!0,t,e,r)},Co.doesNotThrow=function(t,e,r){xo(!1,t,e,r)},Co.ifError=function(t){if(t)throw t};var Yo=Mn((function(t,e){function r(t){return function(t){function e(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(r=t.call(this,n(e,r))||this).code=e,r[a]=e,r.name=t.prototype.name+" ["+r[a]+"]",r}return s(e,t),e}(t)}function n(t,e){Co.strictEqual(typeof t,"string");var r=f[t];if(Co(r,"An invalid error message key was used: "+t+"."),"function"==typeof r)t=r;else{if(t=vo.format,void 0===e||0===e.length)return r;e.unshift(r)}return String(t.apply(null,e))}function i(t,e){f[t]="function"==typeof e?e:String(e)}function o(t,e){if(Co(t,"expected is required"),Co("string"==typeof e,"thing is required"),Array.isArray(t)){var r=t.length;return Co(0<r,"At least one expected value needs to be specified"),t=t.map((function(t){return String(t)})),2<r?"one of "+e+" "+t.slice(0,r-1).join(", ")+", or "+t[r-1]:2===r?"one of "+e+" "+t[0]+" or "+t[1]:"of "+e+" "+t[0]}return"of "+e+" "+String(t)}var s=Fn&&Fn.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a="undefined"==typeof Symbol?"_kCode":Symbol("code"),f={};t=function(t){function r(r){if("object"!=typeof r||null===r)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");var n=r.message?t.call(this,r.message)||this:t.call(this,vo.inspect(r.actual).slice(0,128)+" "+r.operator+" "+vo.inspect(r.expected).slice(0,128))||this;return n.generatedMessage=!r.message,n.name="AssertionError [ERR_ASSERTION]",n.code="ERR_ASSERTION",n.actual=r.actual,n.expected=r.expected,n.operator=r.operator,e.Error.captureStackTrace(n,r.stackStartFunction),n}return s(r,t),r}(Fn.Error),e.AssertionError=t,e.message=n,e.E=i,e.Error=r(Fn.Error),e.TypeError=r(Fn.TypeError),e.RangeError=r(Fn.RangeError),i("ERR_ARG_NOT_ITERABLE","%s must be iterable"),i("ERR_ASSERTION","%s"),i("ERR_BUFFER_OUT_OF_BOUNDS",(function(t,e){return e?"Attempt to write outside buffer bounds":'"'+t+'" is outside of buffer bounds'})),i("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),i("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),i("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),i("ERR_DNS_SET_SERVERS_FAILED",(function(t,e){return'c-ares failed to set servers: "'+t+'" ['+e+"]"})),i("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),i("ERR_ENCODING_NOT_SUPPORTED",(function(t){return'The "'+t+'" encoding is not supported'})),i("ERR_ENCODING_INVALID_ENCODED_DATA",(function(t){return"The encoded data was not valid for encoding "+t})),i("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),i("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),i("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),i("ERR_INDEX_OUT_OF_RANGE","Index out of range"),i("ERR_INVALID_ARG_TYPE",(function(t,e,r){if(Co(t,"name is required"),e.includes("not ")){var n="must not be";e=e.split("not ")[1]}else n="must be";if(Array.isArray(t))n="The "+t.map((function(t){return'"'+t+'"'})).join(", ")+" arguments "+n+" "+o(e,"type");else if(t.includes(" argument"))n="The "+t+" "+n+" "+o(e,"type");else{var i=t.includes(".")?"property":"argument";n='The "'+t+'" '+i+" "+n+" "+o(e,"type")}return 3<=arguments.length&&(n+=". Received type "+(null!==r?typeof r:"null")),n})),i("ERR_INVALID_ARRAY_LENGTH",(function(t,e,r){return Co.strictEqual(typeof r,"number"),'The array "'+t+'" (length '+r+") must be of length "+e+"."})),i("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),i("ERR_INVALID_CALLBACK","Callback must be a function"),i("ERR_INVALID_CHAR","Invalid character in %s"),i("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),i("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),i("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),i("ERR_INVALID_FILE_URL_PATH","File URL path %s"),i("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),i("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+String(e)+'" is invalid for option "'+t+'"'})),i("ERR_INVALID_OPT_VALUE_ENCODING",(function(t){return'The value "'+String(t)+'" is invalid for option "encoding"'})),i("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),i("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),i("ERR_INVALID_THIS",'Value of "this" must be of type %s'),i("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),i("ERR_INVALID_URL","Invalid URL: %s"),i("ERR_INVALID_URL_SCHEME",(function(t){return"The URL must be "+o(t,"scheme")})),i("ERR_IPC_CHANNEL_CLOSED","Channel closed"),i("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),i("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),i("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),i("ERR_MISSING_ARGS",(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Co(0<t.length,"At least one arg needs to be specified"),e="The ";var r=t.length;switch(t=t.map((function(t){return'"'+t+'"'})),r){case 1:e+=t[0]+" argument";break;case 2:e+=t[0]+" and "+t[1]+" arguments";break;default:e+=t.slice(0,r-1).join(", "),e+=", and "+t[r-1]+" arguments"}return e+" must be specified"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),i("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),i("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),i("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),i("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),i("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),i("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),i("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),i("ERR_SOCKET_CANNOT_SEND","Unable to send data"),i("ERR_SOCKET_CLOSED","Socket is closed"),i("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),i("ERR_STDERR_CLOSE","process.stderr cannot be closed"),i("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),i("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),i("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),i("ERR_TLS_DH_PARAM_SIZE",(function(t){return"DH parameter size "+t+" is less than 2048"})),i("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),i("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),i("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),i("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),i("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),i("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),i("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),i("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),i("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),i("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),i("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")}));Un(Yo);var jo=Mn((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!Ni.Buffer.isEncoding(t))throw new Yo.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,r){return r&&r!==e.ENCODING_UTF8?"buffer"===r?new Ni.Buffer(t):new Ni.Buffer(t).toString(r):t}}));Un(jo);var Vo=Mn((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=kn.constants.S_IFMT,n=kn.constants.S_IFDIR,i=kn.constants.S_IFREG,o=kn.constants.S_IFBLK,s=kn.constants.S_IFCHR,a=kn.constants.S_IFLNK,f=kn.constants.S_IFIFO,u=kn.constants.S_IFSOCK;t=function(){function t(){this.name="",this.mode=0}return t.build=function(e,r){var n=new t,i=e.getNode().mode;return n.name=jo.strToEncoding(e.getName(),r),n.mode=i,n},t.prototype._checkModeProperty=function(t){return(this.mode&r)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(n)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(u)},t}(),e.Dirent=t,e.default=t}));function Ko(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;)t.unshift("..");return t}Un(Vo);function qo(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var n=0<=r?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=Ko($o(t.split("/"),(function(t){return!!t})),!e).join("/"))||"."}function zo(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=qo(t).substr(1),e=qo(e).substr(1),t=r(t.split("/")),e=r(e.split("/"));for(var n=Math.min(t.length,e.length),i=n,o=0;o<n;o++)if(t[o]!==e[o]){i=o;break}for(n=[],o=i;o<t.length;o++)n.push("..");return(n=n.concat(e.slice(i))).join("/")}var Xo="/",Jo=zo,Zo=qo;function $o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}"ab".substr(-1);var Qo=Mn((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t="function"==typeof setImmediate?setImmediate.bind(Fn):setTimeout.bind(Fn),e.default=t}));Un(Qo);var ts=Mn((function(t,e){function r(){var t=qi||{};return t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=Qo.default),t.emitWarning||(t.emitWarning=function(t,e){console.warn(e+(e?": ":"")+t)}),t.env||(t.env={}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=r,e.default=r()}));function es(){}function rs(){rs.init.call(this)}function ns(t,e,r,n){var i;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if(i=t._events){i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events);var o=i[e]}else i=t._events=new es,t._eventsCount=0;return o?("function"==typeof o?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),o.warned||(r=void 0===t._maxListeners?rs.defaultMaxListeners:t._maxListeners)&&0<r&&o.length>r&&(o.warned=!0,(r=Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=o.length,"function"==typeof console.warn?console.warn(r):console.log(r))):(i[e]=r,++t._eventsCount),t}function is(t,e,r){function n(){t.removeListener(e,n),i||(i=!0,r.apply(t,arguments))}var i=!1;return n.listener=r,n}function os(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function ss(t,e){for(var r=Array(e);e--;)r[e]=t[e];return r}Un(ts),es.prototype=Object.create(null),rs.EventEmitter=rs,rs.usingDomains=!1,rs.prototype.domain=void 0,rs.prototype._events=void 0,rs.prototype._maxListeners=void 0,rs.defaultMaxListeners=10,rs.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new es,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},rs.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},rs.prototype.getMaxListeners=function(){return void 0===this._maxListeners?rs.defaultMaxListeners:this._maxListeners},rs.prototype.emit=function(t){var e,r,n="error"===t;if(e=this._events)n=n&&null==e.error;else if(!n)return!1;var i=this.domain;if(n){if(e=arguments[1],!i){if(e instanceof Error)throw e;throw(i=Error('Uncaught, unspecified "error" event. ('+e+")")).context=e,i}return e||(e=Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=i,e.domainThrown=!1,i.emit("error",e),!1}if(!(i=e[t]))return!1;e="function"==typeof i;var o=arguments.length;switch(o){case 1:if(e)i.call(this);else for(i=ss(i,e=i.length),n=0;n<e;++n)i[n].call(this);break;case 2:if(n=arguments[1],e)i.call(this,n);else for(i=ss(i,e=i.length),o=0;o<e;++o)i[o].call(this,n);break;case 3:if(n=arguments[1],o=arguments[2],e)i.call(this,n,o);else for(i=ss(i,e=i.length),r=0;r<e;++r)i[r].call(this,n,o);break;case 4:if(n=arguments[1],o=arguments[2],r=arguments[3],e)i.call(this,n,o,r);else{i=ss(i,e=i.length);for(var s=0;s<e;++s)i[s].call(this,n,o,r)}break;default:for(n=Array(o-1),r=1;r<o;r++)n[r-1]=arguments[r];if(e)i.apply(this,n);else for(i=ss(i,e=i.length),o=0;o<e;++o)i[o].apply(this,n)}return!0},rs.prototype.addListener=function(t,e){return ns(this,t,e,!1)},rs.prototype.on=rs.prototype.addListener,rs.prototype.prependListener=function(t,e){return ns(this,t,e,!0)},rs.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,is(this,t,e)),this},rs.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,is(this,t,e)),this},rs.prototype.removeListener=function(t,e){var r;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');var n=this._events;if(!n)return this;var i=n[t];if(!i)return this;if(i===e||i.listener&&i.listener===e)0==--this._eventsCount?this._events=new es:(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){var o=-1;for(r=i.length;0<r--;)if(i[r]===e||i[r].listener&&i[r].listener===e){var s=i[r].listener;o=r;break}if(0>o)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new es,this;delete n[t]}else{r=o+1;for(var a=i.length;r<a;o+=1,r+=1)i[o]=i[r];i.pop()}n.removeListener&&this.emit("removeListener",t,s||e)}return this},rs.prototype.removeAllListeners=function(t){var e=this._events;if(!e)return this;if(!e.removeListener)return 0===arguments.length?(this._events=new es,this._eventsCount=0):e[t]&&(0==--this._eventsCount?this._events=new es:delete e[t]),this;if(0===arguments.length){e=Object.keys(e);for(var r,n=0;n<e.length;++n)"removeListener"!==(r=e[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new es,this._eventsCount=0,this}if("function"==typeof(e=e[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},rs.prototype.listeners=function(t){var e=this._events;if(e)if(t=e[t])if("function"==typeof t)t=[t.listener||t];else{e=Array(t.length);for(var r=0;r<e.length;++r)e[r]=t[r].listener||t[r];t=e}else t=[];else t=[];return t},rs.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):os.call(t,e)},rs.prototype.listenerCount=os,rs.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var as=Mn((function(t,e){var r=Fn&&Fn.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=kn.constants.S_IFMT,i=kn.constants.S_IFDIR,o=kn.constants.S_IFREG,s=kn.constants.S_IFLNK,a=kn.constants.O_APPEND;e.SEP="/",t=function(t){function e(e,r){void 0===r&&(r=438);var n=t.call(this)||this;return n.uid=ts.default.getuid(),n.gid=ts.default.getgid(),n.atime=new Date,n.mtime=new Date,n.ctime=new Date,n.perm=438,n.mode=o,n.nlink=1,n.perm=r,n.mode|=r,n.ino=e,n}return r(e,t),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=Ni.bufferFrom(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.buf||this.setBuffer(Ni.bufferAllocUnsafe(0)),Ni.bufferFrom(this.buf)},e.prototype.setBuffer=function(t){this.buf=Ni.bufferFrom(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~n|t},e.prototype.setIsFile=function(){this.setModeProperty(o)},e.prototype.setIsDirectory=function(){this.setModeProperty(i)},e.prototype.setIsSymlink=function(){this.setModeProperty(s)},e.prototype.isFile=function(){return(this.mode&n)===o},e.prototype.isDirectory=function(){return(this.mode&n)===i},e.prototype.isSymlink=function(){return(this.mode&n)===s},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,r,n){if(void 0===e&&(e=0),void 0===r&&(r=t.length),void 0===n&&(n=0),this.buf||(this.buf=Ni.bufferAllocUnsafe(0)),n+r>this.buf.length){var i=Ni.bufferAllocUnsafe(n+r);this.buf.copy(i,0,0,this.buf.length),this.buf=i}return t.copy(this.buf,n,e,e+r),this.touch(),r},e.prototype.read=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.byteLength),void 0===n&&(n=0),this.buf||(this.buf=Ni.bufferAllocUnsafe(0)),r>t.byteLength&&(r=t.byteLength),r+n>this.buf.length&&(r=this.buf.length-n),this.buf.copy(t,e,n,n+r),r},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=Ni.bufferAllocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=Ni.bufferAllocUnsafe(0);this.buf.copy(e),e.fill(0,t)}else this.buf=Ni.bufferAllocUnsafe(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=ts.default.getuid()),void 0===e&&(e=ts.default.getgid()),!!(4&this.perm||e===this.gid&&32&this.perm||t===this.uid&&256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=ts.default.getuid()),void 0===e&&(e=ts.default.getgid()),!!(2&this.perm||e===this.gid&&16&this.perm||t===this.uid&&128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(rs.EventEmitter),e.Node=t,t=function(t){function n(e,r,n){var i=t.call(this)||this;return i.children={},i.steps=[],i.ino=0,i.length=0,i.vol=e,i.parent=r,i.steps=r?r.steps.concat([n]):[n],i}return r(n,t),n.prototype.setNode=function(t){this.node=t,this.ino=t.ino},n.prototype.getNode=function(){return this.node},n.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var r=new n(this.vol,this,t);return r.setNode(e),e.isDirectory(),this.setChild(t,r),r},n.prototype.setChild=function(t,e){return void 0===e&&(e=new n(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,this.emit("child:add",e,this),e},n.prototype.deleteChild=function(t){delete this.children[t.getName()],this.length--,this.emit("child:delete",t,this)},n.prototype.getChild=function(t){if(Object.hasOwnProperty.call(this.children,t))return this.children[t]},n.prototype.getPath=function(){return this.steps.join(e.SEP)},n.prototype.getName=function(){return this.steps[this.steps.length-1]},n.prototype.walk=function(t,e,r){if(void 0===e&&(e=t.length),void 0===r&&(r=0),r>=t.length||r>=e)return this;var n=this.getChild(t[r]);return n?n.walk(t,e,r+1):null},n.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},n}(rs.EventEmitter),e.Link=t,t=function(){function t(t,e,r,n){this.position=0,this.link=t,this.node=e,this.flags=r,this.fd=n}return t.prototype.getString=function(){return this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return Hn.default.build(this.node)},t.prototype.write=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.length),"number"!=typeof n&&(n=this.position),this.flags&a&&(n=this.getSize()),t=this.node.write(t,e,r,n),this.position=n+t,t},t.prototype.read=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.byteLength),"number"!=typeof n&&(n=this.position),t=this.node.read(t,e,r,n),this.position=n+t,t},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}(),e.File=t}));Un(as);var fs=as.Node,us=Mn((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=setTimeout.apply(null,arguments);return n&&"object"==typeof n&&"function"==typeof n.unref&&n.unref(),n}}));function hs(){this.tail=this.head=null,this.length=0}Un(us),hs.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},hs.prototype.unshift=function(t){t={data:t,next:this.head},0===this.length&&(this.tail=t),this.head=t,++this.length},hs.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},hs.prototype.clear=function(){this.head=this.tail=null,this.length=0},hs.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},hs.prototype.concat=function(t){if(0===this.length)return ri.alloc(0);if(1===this.length)return this.head.data;t=ri.allocUnsafe(t>>>0);for(var e=this.head,r=0;e;)e.data.copy(t,r),r+=e.data.length,e=e.next;return t};var cs=ri.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ls(t){if(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),t&&!cs(t))throw Error("Unknown encoding: "+t);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=ds;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=_s;break;default:return void(this.write=ps)}this.charBuffer=new ri(6),this.charLength=this.charReceived=0}function ps(t){return t.toString(this.encoding)}function ds(t){this.charLength=(this.charReceived=t.length%2)?2:0}function _s(t){this.charLength=(this.charReceived=t.length%3)?3:0}ls.prototype.write=function(t){for(var e="";this.charLength;){if(e=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length,t.copy(this.charBuffer,this.charReceived,0,e),this.charReceived+=e,this.charReceived<this.charLength)return"";t=t.slice(e,t.length);var r=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1);if(!(55296<=r&&56319>=r)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;return this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),n=(e+=t.toString(this.encoding,0,n)).length-1,55296<=(r=e.charCodeAt(n))&&56319>=r?(r=this.surrogateSize,this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),t.copy(this.charBuffer,0,0,r),e.substring(0,n)):e},ls.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var r=t[t.length-e];if(1==e&&6==r>>5){this.charLength=2;break}if(2>=e&&14==r>>4){this.charLength=3;break}if(3>=e&&30==r>>3){this.charLength=4;break}}this.charReceived=e},ls.prototype.end=function(t){var e="";return t&&t.length&&(e=this.write(t)),this.charReceived&&(t=this.encoding,e+=this.charBuffer.slice(0,this.charReceived).toString(t)),e},Es.ReadableState=gs;var ys=to("stream");function gs(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof js&&(this.objectMode=this.objectMode||!!t.readableObjectMode),e=t.highWaterMark;var r=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new hs,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,t.encoding&&(this.decoder=new ls(t.encoding),this.encoding=t.encoding)}function Es(t){if(!(this instanceof Es))return new Es(t);this._readableState=new gs(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),rs.call(this)}function Ss(t,e,r,n,i){var o=r,s=null;if(bi(o)||"string"==typeof o||null==o||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),o=s)t.emit("error",o);else if(null===r)e.reading=!1,e.ended||(e.decoder&&(r=e.decoder.end())&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length),e.ended=!0,ms(t));else if(e.objectMode||r&&0<r.length)if(e.ended&&!i)t.emit("error",Error("stream.push() after EOF"));else if(e.endEmitted&&i)t.emit("error",Error("stream.unshift() after end event"));else{if(e.decoder&&!i&&!n){r=e.decoder.write(r);var a=!e.objectMode&&0===r.length}i||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ms(t))),e.readingMore||(e.readingMore=!0,Hi(vs,t,e))}else i||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function Is(t,e){if(0>=t||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(t!=t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var r=t;8388608<=r?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),e.highWaterMark=r}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}function ms(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(ys("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Hi(As,t):As(t))}function As(t){ys("emit readable"),t.emit("readable"),bs(t)}function vs(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(ys("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function ws(t){ys("readable nexttick read 0"),t.read(0)}function Ts(t,e){e.reading||(ys("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),bs(t),e.flowing&&!e.reading&&t.read(0)}function bs(t){var e=t._readableState;for(ys("flow",e.flowing);e.flowing&&null!==t.read(););}function Rs(t,e){if(0===e.length)return null;if(e.objectMode)var r=e.buffer.shift();else if(!t||t>=e.length)r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear();else{if(r=e.buffer,e=e.decoder,t<r.head.data.length)e=r.head.data.slice(0,t),r.head.data=r.head.data.slice(t);else{if(t===r.head.data.length)r=r.shift();else if(e){var n=1,i=(e=r.head).data;for(t-=i.length;e=e.next;){var o=e.data,s=t>o.length?o.length:t;if(i=s===o.length?i+o:i+o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.head=e.next?e.next:r.tail=null):(r.head=e,e.data=o.slice(s));break}++n}r.length-=n,r=i}else{for(e=ri.allocUnsafe(t),i=1,(n=r.head).data.copy(e),t-=n.data.length;n=n.next;){if(s=t>(o=n.data).length?o.length:t,o.copy(e,e.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.head=n.next?n.next:r.tail=null):(r.head=n,n.data=o.slice(s));break}++i}r.length-=i,r=e}e=r}r=e}return r}function Os(t){var e=t._readableState;if(0<e.length)throw Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Hi(Ns,e,t))}function Ns(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Ls(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Cs(){}function Ps(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function Ws(t,e){Object.defineProperty(this,"buffer",{get:Zi((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof js&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=!1!==t.decodeStrings,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var r=e._writableState,n=r.sync,i=r.writecb;r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(--r.pendingcb,n?Hi(i,t):i(t),e._writableState.errorEmitted=!0,e.emit("error",t)):((t=Ms(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||Us(e,r),n?Hi(Fs,e,r,t,i):Fs(e,r,t,i))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Gs(this)}function Ds(t){if(!(this instanceof Ds||this instanceof js))return new Ds(t);this._writableState=new Ws(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),rs.call(this)}function Bs(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Fs(t,e,r,n){!r&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain")),e.pendingcb--,n(),ks(t,e)}function Us(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=r;for(var o=0;r;)n[o]=r,r=r.next,o+=1;Bs(t,e,!0,e.length,n,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new Gs(e)}else{for(;r&&(n=r.chunk,Bs(t,e,!1,e.objectMode?1:n.length,n,r.encoding,r.callback),r=r.next,!e.writing););null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function Ms(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function ks(t,e){var r=Ms(e);return r&&(0===e.pendingcb?(e.prefinished||(e.prefinished=!0,t.emit("prefinish")),e.finished=!0,t.emit("finish")):e.prefinished||(e.prefinished=!0,t.emit("prefinish"))),r}function Gs(t){var e=this;this.entry=this.next=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}zi(Es,rs),Es.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding)!==r.encoding&&(t=ri.from(t,e),e=""),Ss(this,r,t,e,!1)},Es.prototype.unshift=function(t){return Ss(this,this._readableState,t,"",!0)},Es.prototype.isPaused=function(){return!1===this._readableState.flowing},Es.prototype.setEncoding=function(t){return this._readableState.decoder=new ls(t),this._readableState.encoding=t,this},Es.prototype.read=function(t){ys("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return ys("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Os(this):ms(this),null;if(0===(t=Is(t,e))&&e.ended)return 0===e.length&&Os(this),null;var n=e.needReadable;return ys("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&ys("length less than watermark",n=!0),e.ended||e.reading?ys("reading or ended",!1):n&&(ys("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Is(r,e))),null===(n=0<t?Rs(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Os(this)),null!==n&&this.emit("data",n),n},Es.prototype._read=function(){this.emit("error",Error("not implemented"))},Es.prototype.pipe=function(t,e){function r(t){ys("onunpipe"),t===h&&i()}function n(){ys("onend"),t.end()}function i(){ys("cleanup"),t.removeListener("close",a),t.removeListener("finish",f),t.removeListener("drain",l),t.removeListener("error",s),t.removeListener("unpipe",r),h.removeListener("end",n),h.removeListener("end",i),h.removeListener("data",o),p=!0,!c.awaitDrain||t._writableState&&!t._writableState.needDrain||l()}function o(e){ys("ondata"),d=!1,!1!==t.write(e)||d||((1===c.pipesCount&&c.pipes===t||1<c.pipesCount&&-1!==Ls(c.pipes,t))&&!p&&(ys("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,d=!0),h.pause())}function s(e){ys("onerror",e),u(),t.removeListener("error",s),0===t.listeners("error").length&&t.emit("error",e)}function a(){t.removeListener("finish",f),u()}function f(){ys("onfinish"),t.removeListener("close",a),u()}function u(){ys("unpipe"),h.unpipe(t)}var h=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=t;break;case 1:c.pipes=[c.pipes,t];break;default:c.pipes.push(t)}c.pipesCount+=1,ys("pipe count=%d opts=%j",c.pipesCount,e),e=e&&!1===e.end?i:n,c.endEmitted?Hi(e):h.once("end",e),t.on("unpipe",r);var l=function(t){return function(){var e=t._readableState;ys("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,bs(t))}}(h);t.on("drain",l);var p=!1,d=!1;return h.on("data",o),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",s),t.once("close",a),t.once("finish",f),t.emit("pipe",h),c.flowing||(ys("pipe resume"),h.resume()),t},Es.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){t=e.pipes;var r=e.pipesCount;for(e.pipes=null,e.pipesCount=0,e.flowing=!1,e=0;e<r;e++)t[e].emit("unpipe",this);return this}return-1===(r=Ls(e.pipes,t))||(e.pipes.splice(r,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},Es.prototype.on=function(t,e){return e=rs.prototype.on.call(this,t,e),"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&ms(this):Hi(ws,this))),e},Es.prototype.addListener=Es.prototype.on,Es.prototype.resume=function(){var t=this._readableState;return t.flowing||(ys("resume"),t.flowing=!0,t.resumeScheduled||(t.resumeScheduled=!0,Hi(Ts,this,t))),this},Es.prototype.pause=function(){return ys("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ys("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Es.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",(function(){if(ys("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)})),t.on("data",(function(i){ys("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i||!(e.objectMode||i&&i.length)||n.push(i)||(r=!0,t.pause())})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}(["error","close","destroy","pause","resume"],(function(e){t.on(e,n.emit.bind(n,e))})),n._read=function(e){ys("wrapped _read",e),r&&(r=!1,t.resume())},n},Es._fromList=Rs,Ds.WritableState=Ws,zi(Ds,rs),Ws.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},Ds.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},Ds.prototype.write=function(t,e,r){var n=this._writableState,i=!1;if("function"==typeof e&&(r=e,e=null),ri.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=Cs),n.ended)n=r,t=Error("write after end"),this.emit("error",t),Hi(n,t);else{var o=r,s=!0,a=!1;null===t?a=new TypeError("May not write null values to stream"):ri.isBuffer(t)||"string"==typeof t||void 0===t||n.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),Hi(o,a),s=!1),s&&(n.pendingcb++,i=e,n.objectMode||!1===n.decodeStrings||"string"!=typeof t||(t=ri.from(t,i)),ri.isBuffer(t)&&(i="buffer"),o=n.objectMode?1:t.length,n.length+=o,(e=n.length<n.highWaterMark)||(n.needDrain=!0),n.writing||n.corked?(o=n.lastBufferedRequest,n.lastBufferedRequest=new Ps(t,i,r),o?o.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1):Bs(this,n,!1,o,t,i,r),i=e)}return i},Ds.prototype.cork=function(){this._writableState.corked++},Ds.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||Us(this,t))},Ds.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Ds.prototype._write=function(t,e,r){r(Error("not implemented"))},Ds.prototype._writev=null,Ds.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||(t=r,n.ending=!0,ks(this,n),t&&(n.finished?Hi(t):this.once("finish",t)),n.ended=!0,this.writable=!1)},zi(js,Es);for(var Hs=Object.keys(Ds.prototype),xs=0;xs<Hs.length;xs++){var Ys=Hs[xs];js.prototype[Ys]||(js.prototype[Ys]=Ds.prototype[Ys])}function js(t){if(!(this instanceof js))return new js(t);Es.call(this,t),Ds.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Vs)}function Vs(){this.allowHalfOpen||this._writableState.ended||Hi(Ks,this)}function Ks(t){t.end()}function qs(t){this.afterTransform=function(e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;return i?(n.writechunk=null,n.writecb=null,null!=r&&t.push(r),i(e),(e=t._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&t._read(e.highWaterMark),e=void 0):e=t.emit("error",Error("no writecb in Transform class")),e},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function zs(t){if(!(this instanceof zs))return new zs(t);js.call(this,t),this._transformState=new qs(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){Xs(e,t)})):Xs(e)}))}function Xs(t,e){if(e)return t.emit("error",e);if(e=t._transformState,t._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e.transforming)throw Error("Calling transform done when still transforming");return t.push(null)}function Js(t){if(!(this instanceof Js))return new Js(t);zs.call(this,t)}function Zs(){rs.call(this)}zi(zs,js),zs.prototype.push=function(t,e){return this._transformState.needTransform=!1,js.prototype.push.call(this,t,e)},zs.prototype._transform=function(){throw Error("Not implemented")},zs.prototype._write=function(t,e,r){var n=this._transformState;n.writecb=r,n.writechunk=t,n.writeencoding=e,n.transforming||(t=this._readableState,(n.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},zs.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},zi(Js,zs),Js.prototype._transform=function(t,e,r){r(null,t)},zi(Zs,rs),Zs.Readable=Es,Zs.Writable=Ds,Zs.Duplex=js,Zs.Transform=zs,Zs.PassThrough=Js,Zs.Stream=Zs,Zs.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&f.pause&&f.pause()}function n(){f.readable&&f.resume&&f.resume()}function i(){u||(u=!0,t.end())}function o(){u||(u=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(a(),0===rs.listenerCount(this,"error"))throw t}function a(){f.removeListener("data",r),t.removeListener("drain",n),f.removeListener("end",i),f.removeListener("close",o),f.removeListener("error",s),t.removeListener("error",s),f.removeListener("end",a),f.removeListener("close",a),t.removeListener("close",a)}var f=this;f.on("data",r),t.on("drain",n),t._isStdio||e&&!1===e.end||(f.on("end",i),f.on("close",o));var u=!1;return f.on("error",s),t.on("error",s),f.on("end",a),f.on("close",a),t.on("close",a),t.emit("pipe",f),t};var $s=Array.prototype.slice,Qs=function t(e,r){for(var n in r)e[n]=r[n];return 3>arguments.length?e:t.apply(null,[e].concat($s.call(arguments,2)))},ta=Mn((function(t,e){function r(t,e,r){return void 0===r&&(r=function(t){return t}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Promise((function(o,s){t[e].bind(t).apply(void 0,n(i,[function(t,e){return t?s(t):o(r(e))}]))}))}}var n=Fn&&Fn.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return r(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return r(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return r(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return r(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return r(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,n,i){return r(this.vol,"read",(function(e){return{bytesRead:e,buffer:t}}))(this.fd,t,e,n,i)},t.prototype.readFile=function(t){return r(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return r(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return r(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return r(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return r(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,n,i){return r(this.vol,"write",(function(e){return{bytesWritten:e,buffer:t}}))(this.fd,t,e,n,i)},t.prototype.writeFile=function(t,e){return r(this.vol,"writeFile")(this.fd,t,e)},t}();e.FileHandle=i,e.default=function(t){return"undefined"==typeof Promise?null:{FileHandle:i,access:function(e,n){return r(t,"access")(e,n)},appendFile:function(e,n,o){return r(t,"appendFile")(e instanceof i?e.fd:e,n,o)},chmod:function(e,n){return r(t,"chmod")(e,n)},chown:function(e,n,i){return r(t,"chown")(e,n,i)},copyFile:function(e,n,i){return r(t,"copyFile")(e,n,i)},lchmod:function(e,n){return r(t,"lchmod")(e,n)},lchown:function(e,n,i){return r(t,"lchown")(e,n,i)},link:function(e,n){return r(t,"link")(e,n)},lstat:function(e,n){return r(t,"lstat")(e,n)},mkdir:function(e,n){return r(t,"mkdir")(e,n)},mkdtemp:function(e,n){return r(t,"mkdtemp")(e,n)},open:function(e,n,o){return r(t,"open",(function(e){return new i(t,e)}))(e,n,o)},readdir:function(e,n){return r(t,"readdir")(e,n)},readFile:function(e,n){return r(t,"readFile")(e instanceof i?e.fd:e,n)},readlink:function(e,n){return r(t,"readlink")(e,n)},realpath:function(e,n){return r(t,"realpath")(e,n)},rename:function(e,n){return r(t,"rename")(e,n)},rmdir:function(e){return r(t,"rmdir")(e)},stat:function(e,n){return r(t,"stat")(e,n)},symlink:function(e,n,i){return r(t,"symlink")(e,n,i)},truncate:function(e,n){return r(t,"truncate")(e,n)},unlink:function(e){return r(t,"unlink")(e)},utimes:function(e,n,i){return r(t,"utimes")(e,n,i)},writeFile:function(e,n,o){return r(t,"writeFile")(e instanceof i?e.fd:e,n,o)}}}}));Un(ta);var ea=/[^\x20-\x7E]/,ra=/[\x2E\u3002\uFF0E\uFF61]/g,na="Overflow: input needs wider integers to process",ia=Math.floor,oa=String.fromCharCode;function sa(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function aa(t){return function(t,e){var r=t.split("@"),n="";1<r.length&&(n=r[0]+"@",t=r[1]),r=(t=(t=t.replace(ra,".")).split(".")).length;for(var i=[];r--;)i[r]=e(t[r]);return n+i.join(".")}(t,(function(t){if(ea.test(t)){var e,r=[],n=[],i=0;for(e=t.length;i<e;){var o=t.charCodeAt(i++);if(55296<=o&&56319>=o&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&o)<<10)+(1023&s)+65536):(n.push(o),i--)}else n.push(o)}s=(t=n).length,n=128;var a=0,f=72;for(o=0;o<s;++o){var u=t[o];128>u&&r.push(oa(u))}for((i=e=r.length)&&r.push("-");i<s;){var h=2147483647;for(o=0;o<s;++o)(u=t[o])>=n&&u<h&&(h=u);var c=i+1;if(h-n>ia((2147483647-a)/c))throw new RangeError(na);for(a+=(h-n)*c,n=h,o=0;o<s;++o){if((u=t[o])<n&&2147483647<++a)throw new RangeError(na);if(u==n){var l=a;for(h=36;!(l<(u=h<=f?1:h>=f+26?26:h-f));h+=36){var p=l-u;l=36-u,r.push(oa(sa(u+p%l,0))),l=ia(p/l)}for(r.push(oa(sa(l,0))),f=c,h=0,a=i==e?ia(a/700):a>>1,a+=ia(a/f);455<a;h+=36)a=ia(a/35);f=ia(h+36*a/(a+38)),a=0,++i}}++a,++n}r="xn--"+r.join("")}else r=t;return r}))}var fa=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function ua(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function ha(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var ca=Object.keys||function(t){var e,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r};function la(t,e,r,n){r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;for(t=t.split(e||"&"),e=1e3,n&&"number"==typeof n.maxKeys&&(e=n.maxKeys),n=t.length,0<e&&n>e&&(n=e),e=0;e<n;++e){var s=t[e].replace(o,"%20"),a=s.indexOf(r);if(0<=a){var f=s.substr(0,a);s=s.substr(a+1)}else f=s,s="";f=decodeURIComponent(f),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(i,f)?fa(i[f])?i[f].push(s):i[f]=[i[f],s]:i[f]=s}return i}var pa={parse:Ra,resolve:function(t,e){return Ra(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?Ra(t,!1,!0).resolveObject(e):e},format:function(t){return ho(t)&&(t=Oa({},t)),Na(t)},Url:da};function da(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var _a=/^([a-z0-9.+-]+:)/i,ya=/:[0-9]*$/,ga=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ea="{}|\\^`".split("").concat('<>"` \r\n\t'.split("")),Sa=["'"].concat(Ea),Ia=["%","/","?",";","#"].concat(Sa),ma=["/","?","#"],Aa=/^[+a-z0-9A-Z_-]{0,63}$/,va=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,wa={javascript:!0,"javascript:":!0},Ta={javascript:!0,"javascript:":!0},ba={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Ra(t,e,r){if(t&&po(t)&&t instanceof da)return t;var n=new da;return n.parse(t,e,r),n}function Oa(t,e,r,n){if(!ho(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?");if(i=-1!==i&&i<e.indexOf("#")?"?":"#",(e=e.split(i))[0]=e[0].replace(/\\/g,"/"),i=(e=e.join(i)).trim(),!n&&1===e.split("#").length&&(e=ga.exec(i)))return t.path=i,t.href=i,t.pathname=e[1],e[2]?(t.search=e[2],t.query=r?la(t.search.substr(1)):t.search.substr(1)):r&&(t.search="",t.query={}),t;if(e=_a.exec(i)){var o=(e=e[0]).toLowerCase();t.protocol=o,i=i.substr(e.length)}if(n||e||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||e&&Ta[e]||(i=i.substr(2),t.slashes=!0)}if(!Ta[e]&&(s||e&&!ba[e])){for(e=-1,n=0;n<ma.length;n++)-1!==(s=i.indexOf(ma[n]))&&(-1===e||s<e)&&(e=s);for(-1!==(s=-1===e?i.lastIndexOf("@"):i.lastIndexOf("@",e))&&(n=i.slice(0,s),i=i.slice(s+1),t.auth=decodeURIComponent(n)),e=-1,n=0;n<Ia.length;n++)-1!==(s=i.indexOf(Ia[n]))&&(-1===e||s<e)&&(e=s);if(-1===e&&(e=i.length),t.host=i.slice(0,e),i=i.slice(e),La(t),t.hostname=t.hostname||"",!(s="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1])){var a=t.hostname.split(/\./);for(n=0,e=a.length;n<e;n++){var f=a[n];if(f&&!f.match(Aa)){for(var u="",h=0,c=f.length;h<c;h++)u=127<f.charCodeAt(h)?u+"x":u+f[h];if(!u.match(Aa)){e=a.slice(0,n),n=a.slice(n+1),(f=f.match(va))&&(e.push(f[1]),n.unshift(f[2])),n.length&&(i="/"+n.join(".")+i),t.hostname=e.join(".");break}}}}t.hostname=t.hostname.length>255?"":t.hostname.toLowerCase(),s||(t.hostname=aa(t.hostname)),n=t.port?":"+t.port:"",t.host=(t.hostname||"")+n,t.href+=t.host,s&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!wa[o])for(n=0,e=Sa.length;n<e;n++)s=Sa[n],-1!==i.indexOf(s)&&((f=encodeURIComponent(s))===s&&(f=escape(s)),i=i.split(s).join(f));return-1!==(n=i.indexOf("#"))&&(t.hash=i.substr(n),i=i.slice(0,n)),-1!==(n=i.indexOf("?"))?(t.search=i.substr(n),t.query=i.substr(n+1),r&&(t.query=la(t.query)),i=i.slice(0,n)):r&&(t.search="",t.query={}),i&&(t.pathname=i),ba[o]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(n=t.pathname||"",t.path=n+(t.search||"")),t.href=Na(t),t}function Na(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var r=t.protocol||"",n=t.pathname||"",i=t.hash||"",o=!1,s="";return t.host?o=e+t.host:t.hostname&&(o=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(o+=":"+t.port)),t.query&&po(t.query)&&Object.keys(t.query).length&&(s=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?ha(ca(t),(function(n){var i=encodeURIComponent(ua(n))+r;return fa(t[n])?ha(t[n],(function(t){return i+encodeURIComponent(ua(t))})).join(e):i+encodeURIComponent(ua(t[n]))})).join(e):n?encodeURIComponent(ua(n))+r+encodeURIComponent(ua(t)):""}(t.query)),e=t.search||s&&"?"+s||"",r&&":"!==r.substr(-1)&&(r+=":"),t.slashes||(!r||ba[r])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),e&&"?"!==e.charAt(0)&&(e="?"+e),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),r+o+n+(e=e.replace("#","%23"))+i}function La(t){var e=t.host,r=ya.exec(e);r&&(":"!==(r=r[0])&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}da.prototype.parse=function(t,e,r){return Oa(this,t,e,r)},da.prototype.format=function(){return Na(this)},da.prototype.resolve=function(t){return this.resolveObject(Ra(t,!1,!0)).format()},da.prototype.resolveObject=function(t){if(ho(t)){var e=new da;e.parse(t,!1,!0),t=e}e=new da;for(var r=Object.keys(this),n=0;n<r.length;n++){var i=r[n];e[i]=this[i]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(r=Object.keys(t),n=0;n<r.length;n++)"protocol"!==(i=r[n])&&(e[i]=t[i]);return ba[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}var o;if(t.protocol&&t.protocol!==e.protocol){if(!ba[t.protocol]){for(r=Object.keys(t),n=0;n<r.length;n++)e[i=r[n]]=t[i];return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||Ta[t.protocol])e.pathname=t.pathname;else{for(o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),2>o.length&&o.unshift(""),e.pathname=o.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}r=e.pathname&&"/"===e.pathname.charAt(0);var s=t.host||t.pathname&&"/"===t.pathname.charAt(0),a=r=s||r||e.host&&t.pathname;if(n=e.pathname&&e.pathname.split("/")||[],i=e.protocol&&!ba[e.protocol],o=t.pathname&&t.pathname.split("/")||[],i&&(e.hostname="",e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),r=r&&(""===o[0]||""===n[0])),s)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,n=o;else if(o.length)n||(n=[]),n.pop(),n=n.concat(o),e.search=t.search,e.query=t.query;else if(null!=t.search)return i&&(e.hostname=e.host=n.shift(),i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),e.search=t.search,e.query=t.query,null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!n.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;s=n.slice(-1)[0],o=(e.host||t.host||1<n.length)&&("."===s||".."===s)||""===s;for(var f=0,u=n.length;0<=u;u--)"."===(s=n[u])?n.splice(u,1):".."===s?(n.splice(u,1),f++):f&&(n.splice(u,1),f--);if(!r&&!a)for(;f--;)n.unshift("..");return!r||""===n[0]||n[0]&&"/"===n[0].charAt(0)||n.unshift(""),o&&"/"!==n.join("/").substr(-1)&&n.push(""),a=""===n[0]||n[0]&&"/"===n[0].charAt(0),i&&(e.hostname=e.host=a?"":n.length?n.shift():"",i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),(r=r||e.host&&n.length)&&!a&&n.unshift(""),n.length?e.pathname=n.join("/"):(e.pathname=null,e.path=null),null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},da.prototype.parseHost=function(){return La(this)};var Ca=Mn((function(t,e){function r(t,e){return t=t[e],0<e&&("/"===t||i&&"\\"===t)}function n(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(i){var n=t;if("string"!=typeof n)throw new TypeError("expected a string");if(n=n.replace(/[\\\/]+/g,"/"),!1!==e)if(2>(n=(e=n).length-1))n=e;else{for(;r(e,n);)n--;n=e.substr(0,n+1)}return n.replace(/^([a-zA-Z]+:|\.\/)/,"")}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.unixify=n,e.correctPath=function(t){return n(t.replace(/^\\\\\?\\.:\\/,"\\"))};var i="win32"===qi.platform}));Un(Ca);var Pa=Mn((function(t,e){function r(t,e){return void 0===e&&(e=ts.default.cwd()),C(e,t)}function n(t,e){return"function"==typeof t?[i(),t]:[i(t),h(e)]}function i(t){return void 0===t&&(t={}),L({},ft,t)}function o(t){return L({},it,"number"==typeof t?{mode:t}:t)}function s(t,e,r,n,i){return void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n=""),void 0===i&&(i=Error),e=new i(function(t,e,r,n){void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n="");var i="";switch(r&&(i=" '"+r+"'"),n&&(i+=" -> '"+n+"'"),t){case"ENOENT":return"ENOENT: no such file or directory, "+e+i;case"EBADF":return"EBADF: bad file descriptor, "+e+i;case"EINVAL":return"EINVAL: invalid argument, "+e+i;case"EPERM":return"EPERM: operation not permitted, "+e+i;case"EPROTO":return"EPROTO: protocol error, "+e+i;case"EEXIST":return"EEXIST: file already exists, "+e+i;case"ENOTDIR":return"ENOTDIR: not a directory, "+e+i;case"EISDIR":return"EISDIR: illegal operation on a directory, "+e+i;case"EACCES":return"EACCES: permission denied, "+e+i;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+e+i;case"EMFILE":return"EMFILE: too many open files, "+e+i;case"ENOSYS":return"ENOSYS: function not implemented, "+e+i;default:return t+": error occurred, "+e+i}}(t,e,r,n)),e.code=t,e}function a(t){if("number"==typeof t)return t;if("string"==typeof t){var e=N[t];if(void 0!==e)return e}throw new Yo.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function f(t,e){if(!e)return t;var r=typeof e;switch(r){case"string":t=L({},t,{encoding:e});break;case"object":t=L({},t,e);break;default:throw TypeError("Expected options to be either an object or a string, but got "+r+" instead")}return"buffer"!==t.encoding&&jo.assertEncoding(t.encoding),t}function u(t){return function(e){return f(t,e)}}function h(t){if("function"!=typeof t)throw TypeError(q.CB);return t}function c(t){return function(e,r){return"function"==typeof e?[t(),e]:[t(e),h(r)]}}function l(t){if("string"!=typeof t&&!Ni.Buffer.isBuffer(t)){try{if(!(t instanceof pa.URL))throw new TypeError(q.PATH_STR)}catch(t){throw new TypeError(q.PATH_STR)}if(""!==t.hostname)throw new Yo.TypeError("ERR_INVALID_FILE_URL_HOST",ts.default.platform);t=t.pathname;for(var e=0;e<t.length;e++)if("%"===t[e]){var r=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===r)throw new Yo.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}t=decodeURIComponent(t)}return g(t=String(t)),t}function p(t,e){return(t=r(t,e).substr(1))?t.split(j):[]}function d(t){return p(l(t))}function _(t,e){return void 0===e&&(e=jo.ENCODING_UTF8),Ni.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ni.bufferFrom(t):Ni.bufferFrom(String(t),e)}function y(t,e){return e&&"buffer"!==e?t.toString(e):t}function g(t,e){if(-1!==(""+t).indexOf("\0")){if((t=Error("Path must be a string without null bytes")).code="ENOENT","function"!=typeof e)throw t;return ts.default.nextTick(e,t),!1}return!0}function E(t,e){if("number"!=typeof(t="number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?E(e):void 0)||isNaN(t))throw new TypeError(q.MODE_INT);return t}function S(t){if(t>>>0!==t)throw TypeError(q.FD)}function I(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return 0>t?Date.now()/1e3:t;throw Error("Cannot parse time: "+t)}function m(t){if("number"!=typeof t)throw TypeError(q.UID)}function A(t){if("number"!=typeof t)throw TypeError(q.GID)}function v(t){t.emit("stop")}function w(t,e,r){if(!(this instanceof w))return new w(t,e,r);if(this._vol=t,void 0===(r=L({},f(r,{}))).highWaterMark&&(r.highWaterMark=65536),Zs.Readable.call(this,r),this.path=l(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",(function(){this.autoClose&&this.destroy&&this.destroy()}))}function T(){this.close()}function b(t,e,r){if(!(this instanceof b))return new b(t,e,r);if(this._vol=t,r=L({},f(r,{})),Zs.Writable.call(this,r),this.path=l(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||!!r.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(0>this.start)throw Error('"start" must be >= zero');this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",(function(){this.autoClose&&this.close()}))}var R=Fn&&Fn.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),O=Fn&&Fn.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var N,L=Qs,C=Zo,P=kn.constants.O_RDONLY,W=kn.constants.O_WRONLY,D=kn.constants.O_RDWR,B=kn.constants.O_CREAT,F=kn.constants.O_EXCL,U=kn.constants.O_TRUNC,M=kn.constants.O_APPEND,k=kn.constants.O_SYNC,G=kn.constants.O_DIRECTORY,H=kn.constants.F_OK,x=kn.constants.COPYFILE_EXCL,Y=kn.constants.COPYFILE_FICLONE_FORCE,j=Xo,V=Jo,K="win32"===ts.default.platform,q={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};!function(t){t[t.r=P]="r",t[t["r+"]=D]="r+",t[t.rs=P|k]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=D|k]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=W|B|U]="w",t[t.wx=W|B|U|F]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=D|B|U]="w+",t[t["wx+"]=D|B|U|F]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=W|M|B]="a",t[t.ax=W|M|B|F]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=D|M|B]="a+",t[t["ax+"]=D|M|B|F]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(N=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=a;var z=u(t={encoding:"utf8"}),X=c(z),J=u({flag:"r"}),Z={encoding:"utf8",mode:438,flag:N[N.w]},$=u(Z),Q={encoding:"utf8",mode:438,flag:N[N.a]},tt=u(Q),et=c(tt),rt=u(t),nt=c(rt),it={mode:511,recursive:!1},ot={recursive:!1},st=u({encoding:"utf8",withFileTypes:!1}),at=c(st),ft={bigint:!1};if(e.pathToFilename=l,K){var ut=r,ht=Ca.unixify;r=function(t,e){return ht(ut(t,e))}}e.filenameToSteps=p,e.pathToSteps=d,e.dataToStr=function(t,e){return void 0===e&&(e=jo.ENCODING_UTF8),Ni.Buffer.isBuffer(t)?t.toString(e):t instanceof Uint8Array?Ni.bufferFrom(t).toString(e):String(t)},e.dataToBuffer=_,e.bufferToEncoding=y,e.toUnixTimestamp=I,t=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=ta.default(this),this.statWatchers={},this.props=L({Node:as.Node,Link:as.Link,File:as.File},t),(t=this.createLink()).setNode(this.createNode(!0));var e=this;this.StatWatcher=function(t){function r(){return t.call(this,e)||this}return R(r,t),r}(lt),this.ReadStream=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,O([e],r))||this}return R(r,t),r}(w),this.WriteStream=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,O([e],r))||this}return R(r,t),r}(b),this.FSWatcher=function(t){function r(){return t.call(this,e)||this}return R(r,t),r}(pt),this.root=t}return t.fromJSON=function(e,r){var n=new t;return n.fromJSON(e,r),n},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),t.prototype.createLink=function(t,e,r,n){if(void 0===r&&(r=!1),!t)return new this.props.Link(this,null,"");if(!e)throw Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(r,n))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){var t=this.releasedInos.pop();return t||(this.ino=(this.ino+1)%4294967295)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){return void 0===t&&(t=!1),e=new this.props.Node(this.newInoNumber(),e),t&&e.setIsDirectory(),this.inodes[e.ino]=e},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substr(2,6);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var r=p(t);if(!(r=this.getLink(r)))throw s("ENOENT",e,t);return r},t.prototype.getResolvedLink=function(t){t="string"==typeof t?p(t):t;for(var e=this.root,r=0;r<t.length;){if(!(e=e.getChild(t[r])))return null;var n=e.getNode();n.isSymlink()?(t=n.symlink.concat(t.slice(r+1)),e=this.root,r=0):r++}return e},t.prototype.getResolvedLinkOrThrow=function(t,e){var r=this.getResolvedLink(t);if(!r)throw s("ENOENT",e,t);return r},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var r=this.getLinkOrThrow(t,e);if(!r.getNode().isDirectory())throw s("ENOTDIR",e,t);return r},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){t=t instanceof Array?t:p(t);var r=this.getLinkParent(t);if(!r)throw s("ENOENT",e,j+t.join(j));if(!r.getNode().isDirectory())throw s("ENOTDIR",e,j+t.join(j));return r},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(t>>>0!==t)throw TypeError(q.FD);if(!(t=this.getFileByFd(t)))throw s("EBADF",e);return t},t.prototype.getNodeByIdOrCreate=function(t,e,r){if("number"==typeof t){if(!(t=this.getFileByFd(t)))throw Error("File nto found");return t.node}var n=d(t),i=this.getLink(n);if(i)return i.getNode();if(e&B&&(e=this.getLinkParent(n)))return(i=this.createLink(e,n[n.length-1],!1,r)).getNode();throw s("ENOENT","getNodeByIdOrCreate",l(t))},t.prototype.wrapAsync=function(t,e,r){var n=this;h(r),Qo.default((function(){try{r(null,t.apply(n,e))}catch(t){r(t)}}))},t.prototype._toJSON=function(t,e,r){var n;void 0===t&&(t=this.root),void 0===e&&(e={});var i=!0,o=t.children;for(var s in t.getNode().isFile()&&((n={})[t.getName()]=t.parent.getChild(t.getName()),o=n,t=t.parent),o){if(i=!1,!(o=t.getChild(s)))throw Error("_toJSON: unexpected undefined");(n=o.getNode()).isFile()?(o=o.getPath(),r&&(o=V(r,o)),e[o]=n.getString()):n.isDirectory()&&this._toJSON(o,e,r)}return t=t.getPath(),r&&(t=V(r,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);var n=[];if(t){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++){var o=l(t[i]);(o=this.getResolvedLink(o))&&n.push(o)}}else n.push(this.root);if(!n.length)return e;for(i=0;i<n.length;i++)o=n[i],this._toJSON(o,e,r?o.getPath():"");return e},t.prototype.fromJSON=function(t,e){for(var n in void 0===e&&(e=ts.default.cwd()),t){var i=t[n];if("string"==typeof i){var o=p(n=r(n,e));1<o.length&&(o=j+o.slice(0,o.length-1).join(j),this.mkdirpBase(o,511)),this.writeFileSync(n,i)}else this.mkdirpBase(n,511)}},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,r){if(void 0===r&&(r=!0),this.openFiles>=this.maxFiles)throw s("EMFILE","open",t.getPath());var n=t;if(r&&(n=this.resolveSymlinks(t)),!n)throw s("ENOENT","open",t.getPath());if((r=n.getNode()).isDirectory()){if((e&(P|D|W))!==P)throw s("EISDIR","open",t.getPath())}else if(e&G)throw s("ENOTDIR","open",t.getPath());if(!(e&W||r.canRead()))throw s("EACCES","open",t.getPath());return t=new this.props.File(t,r,e,this.newFdNumber()),this.fds[t.fd]=t,this.openFiles++,e&U&&t.truncate(),t},t.prototype.openFile=function(t,e,r,n){void 0===n&&(n=!0);var i=p(t),o=n?this.getResolvedLink(i):this.getLink(i);if(!o&&e&B){var a=this.getResolvedLink(i.slice(0,i.length-1));if(!a)throw s("ENOENT","open",j+i.join(j));e&B&&"number"==typeof r&&(o=this.createLink(a,i[i.length-1],!1,r))}if(o)return this.openLink(o,e,n);throw s("ENOENT","open",t)},t.prototype.openBase=function(t,e,r,n){if(void 0===n&&(n=!0),!(e=this.openFile(t,e,r,n)))throw s("ENOENT","open",t);return e.fd},t.prototype.openSync=function(t,e,r){return void 0===r&&(r=438),r=E(r),t=l(t),e=a(e),this.openBase(t,e,r)},t.prototype.open=function(t,e,r,n){var i=r;"function"==typeof r&&(i=438,n=r),r=E(i||438),t=l(t),e=a(e),this.wrapAsync(this.openBase,[t,e,r],n)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){S(t),t=this.getFileByFdOrThrow(t,"close"),this.closeFile(t)},t.prototype.close=function(t,e){S(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,r){if("number"==typeof t){if(!(t=this.fds[t]))throw s("ENOENT");return t}return this.openFile(l(t),e,r)},t.prototype.readBase=function(t,e,r,n,i){return this.getFileByFdOrThrow(t).read(e,Number(r),Number(n),i)},t.prototype.readSync=function(t,e,r,n,i){return S(t),this.readBase(t,e,r,n,i)},t.prototype.read=function(t,e,r,n,i,o){var s=this;if(h(o),0===n)return ts.default.nextTick((function(){o&&o(null,0,e)}));Qo.default((function(){try{var a=s.readBase(t,e,r,n,i);o(null,a,e)}catch(t){o(t)}}))},t.prototype.readFileBase=function(t,e,r){var n="number"==typeof t&&t>>>0===t;if(!n){var i=l(t);if(i=p(i),(i=this.getResolvedLink(i))&&i.getNode().isDirectory())throw s("EISDIR","open",i.getPath());t=this.openSync(t,e)}try{var o=y(this.getFileByFdOrThrow(t).getBuffer(),r)}finally{n||this.closeSync(t)}return o},t.prototype.readFileSync=function(t,e){var r=a((e=J(e)).flag);return this.readFileBase(t,r,e.encoding)},t.prototype.readFile=function(t,e,r){e=(r=c(J)(e,r))[0],r=r[1];var n=a(e.flag);this.wrapAsync(this.readFileBase,[t,n,e.encoding],r)},t.prototype.writeBase=function(t,e,r,n,i){return this.getFileByFdOrThrow(t,"write").write(e,r,n,i)},t.prototype.writeSync=function(t,e,r,n,i){S(t);var o="string"!=typeof e;if(o){var s=0|(r||0),a=n;r=i}else var f=n;return e=_(e,f),o?void 0===a&&(a=e.length):(s=0,a=e.length),this.writeBase(t,e,s,a,r)},t.prototype.write=function(t,e,r,n,i,o){var s=this;S(t);var a=typeof e,f=typeof r,u=typeof n,c=typeof i;if("string"!==a)if("function"===f)var l=r;else if("function"===u){var p=0|r;l=n}else if("function"===c){p=0|r;var d=n;l=i}else{p=0|r,d=n;var y=i;l=o}else if("function"===f)l=r;else if("function"===u)y=r,l=n;else if("function"===c){y=r;var g=n;l=i}var E=_(e,g);"string"!==a?void 0===d&&(d=E.length):(p=0,d=E.length);var I=h(l);Qo.default((function(){try{var r=s.writeBase(t,E,p,d,y);I(null,r,"string"!==a?E:e)}catch(t){I(t)}}))},t.prototype.writeFileBase=function(t,e,r,n){var i="number"==typeof t;t=i?t:this.openBase(l(t),r,n),n=0;var o=e.length;r=r&M?void 0:0;try{for(;0<o;){var s=this.writeSync(t,e,n,o,r);n+=s,o-=s,void 0!==r&&(r+=s)}}finally{i||this.closeSync(t)}},t.prototype.writeFileSync=function(t,e,r){var n=$(r);r=a(n.flag);var i=E(n.mode);e=_(e,n.encoding),this.writeFileBase(t,e,r,i)},t.prototype.writeFile=function(t,e,r,n){var i=r;"function"==typeof r&&(i=Z,n=r),r=h(n);var o=$(i);i=a(o.flag),n=E(o.mode),e=_(e,o.encoding),this.wrapAsync(this.writeFileBase,[t,e,i,n],r)},t.prototype.linkBase=function(t,e){var r=p(t),n=this.getLink(r);if(!n)throw s("ENOENT","link",t,e);var i=p(e);if(!(r=this.getLinkParent(i)))throw s("ENOENT","link",t,e);if(i=i[i.length-1],r.getChild(i))throw s("EEXIST","link",t,e);(t=n.getNode()).nlink++,r.createChild(i,t)},t.prototype.copyFileBase=function(t,e,r){var n=this.readFileSync(t);if(r&x&&this.existsSync(e))throw s("EEXIST","copyFile",t,e);if(r&Y)throw s("ENOSYS","copyFile",t,e);this.writeFileBase(e,n,N.w,438)},t.prototype.copyFileSync=function(t,e,r){return t=l(t),e=l(e),this.copyFileBase(t,e,0|(r||0))},t.prototype.copyFile=function(t,e,r,n){if(t=l(t),e=l(e),"function"==typeof r)var i=0;else i=r,r=n;h(r),this.wrapAsync(this.copyFileBase,[t,e,i],r)},t.prototype.linkSync=function(t,e){t=l(t),e=l(e),this.linkBase(t,e)},t.prototype.link=function(t,e,r){t=l(t),e=l(e),this.wrapAsync(this.linkBase,[t,e],r)},t.prototype.unlinkBase=function(t){var e=p(t);if(!(e=this.getLink(e)))throw s("ENOENT","unlink",t);if(e.length)throw Error("Dir not empty...");this.deleteLink(e),(t=e.getNode()).nlink--,0>=t.nlink&&this.deleteNode(t)},t.prototype.unlinkSync=function(t){t=l(t),this.unlinkBase(t)},t.prototype.unlink=function(t,e){t=l(t),this.wrapAsync(this.unlinkBase,[t],e)},t.prototype.symlinkBase=function(t,e){var r=p(e),n=this.getLinkParent(r);if(!n)throw s("ENOENT","symlink",t,e);if(r=r[r.length-1],n.getChild(r))throw s("EEXIST","symlink",t,e);return(e=n.createChild(r)).getNode().makeSymlink(p(t)),e},t.prototype.symlinkSync=function(t,e){t=l(t),e=l(e),this.symlinkBase(t,e)},t.prototype.symlink=function(t,e,r,n){r=h("function"==typeof r?r:n),t=l(t),e=l(e),this.wrapAsync(this.symlinkBase,[t,e],r)},t.prototype.realpathBase=function(t,e){var r=p(t);if(!(r=this.getResolvedLink(r)))throw s("ENOENT","realpath",t);return jo.strToEncoding(r.getPath(),e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(l(t),rt(e).encoding)},t.prototype.realpath=function(t,e,r){e=(r=nt(e,r))[0],r=r[1],t=l(t),this.wrapAsync(this.realpathBase,[t,e.encoding],r)},t.prototype.lstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getLink(p(t));if(!r)throw s("ENOENT","lstat",t);return Hn.default.build(r.getNode(),e)},t.prototype.lstatSync=function(t,e){return this.lstatBase(l(t),i(e).bigint)},t.prototype.lstat=function(t,e,r){e=(r=n(e,r))[0],r=r[1],this.wrapAsync(this.lstatBase,[l(t),e.bigint],r)},t.prototype.statBase=function(t,e){void 0===e&&(e=!1);var r=this.getResolvedLink(p(t));if(!r)throw s("ENOENT","stat",t);return Hn.default.build(r.getNode(),e)},t.prototype.statSync=function(t,e){return this.statBase(l(t),i(e).bigint)},t.prototype.stat=function(t,e,r){e=(r=n(e,r))[0],r=r[1],this.wrapAsync(this.statBase,[l(t),e.bigint],r)},t.prototype.fstatBase=function(t,e){if(void 0===e&&(e=!1),!(t=this.getFileByFd(t)))throw s("EBADF","fstat");return Hn.default.build(t.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,i(e).bigint)},t.prototype.fstat=function(t,e,r){e=n(e,r),this.wrapAsync(this.fstatBase,[t,e[0].bigint],e[1])},t.prototype.renameBase=function(t,e){var r=this.getLink(p(t));if(!r)throw s("ENOENT","rename",t,e);var n=p(e),i=this.getLinkParent(n);if(!i)throw s("ENOENT","rename",t,e);(t=r.parent)&&t.deleteChild(r),r.steps=O(i.steps,[n[n.length-1]]),i.setChild(r.getName(),r)},t.prototype.renameSync=function(t,e){t=l(t),e=l(e),this.renameBase(t,e)},t.prototype.rename=function(t,e,r){t=l(t),e=l(e),this.wrapAsync(this.renameBase,[t,e],r)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(l(t))}catch(t){return!1}},t.prototype.exists=function(t,e){var r=this,n=l(t);if("function"!=typeof e)throw Error(q.CB);Qo.default((function(){try{e(r.existsBase(n))}catch(t){e(!1)}}))},t.prototype.accessBase=function(t){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=H),t=l(t),this.accessBase(t,0|e)},t.prototype.access=function(t,e,r){var n=H;"function"!=typeof e&&(n=0|e,e=h(r)),t=l(t),this.wrapAsync(this.accessBase,[t,n],e)},t.prototype.appendFileSync=function(t,e,r){void 0===r&&(r=Q),(r=tt(r)).flag&&t>>>0!==t||(r.flag="a"),this.writeFileSync(t,e,r)},t.prototype.appendFile=function(t,e,r,n){r=(n=et(r,n))[0],n=n[1],r.flag&&t>>>0!==t||(r.flag="a"),this.writeFile(t,e,r,n)},t.prototype.readdirBase=function(t,e){var r=p(t);if(!(r=this.getResolvedLink(r)))throw s("ENOENT","readdir",t);if(!r.getNode().isDirectory())throw s("ENOTDIR","scandir",t);if(e.withFileTypes){var n=[];for(i in r.children)(t=r.getChild(i))&&n.push(Vo.default.build(t,e.encoding));return K||"buffer"===e.encoding||n.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),n}var i=[];for(n in r.children)i.push(jo.strToEncoding(n,e.encoding));return K||"buffer"===e.encoding||i.sort(),i},t.prototype.readdirSync=function(t,e){return e=st(e),t=l(t),this.readdirBase(t,e)},t.prototype.readdir=function(t,e,r){e=(r=at(e,r))[0],r=r[1],t=l(t),this.wrapAsync(this.readdirBase,[t,e],r)},t.prototype.readlinkBase=function(t,e){var r=this.getLinkOrThrow(t,"readlink").getNode();if(!r.isSymlink())throw s("EINVAL","readlink",t);return t=j+r.symlink.join(j),jo.strToEncoding(t,e)},t.prototype.readlinkSync=function(t,e){return e=z(e),t=l(t),this.readlinkBase(t,e.encoding)},t.prototype.readlink=function(t,e,r){e=(r=X(e,r))[0],r=r[1],t=l(t),this.wrapAsync(this.readlinkBase,[t,e.encoding],r)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,r){var n="number"==typeof e?e:0;e=h("number"==typeof e?r:e),this.wrapAsync(this.ftruncateBase,[t,n],e)},t.prototype.truncateBase=function(t,e){t=this.openSync(t,"r+");try{this.ftruncateSync(t,e)}finally{this.closeSync(t)}},t.prototype.truncateSync=function(t,e){if(t>>>0===t)return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,r){var n="number"==typeof e?e:0;if(e=h("number"==typeof e?r:e),t>>>0===t)return this.ftruncate(t,n,e);this.wrapAsync(this.truncateBase,[t,n],e)},t.prototype.futimesBase=function(t,e,r){(t=this.getFileByFdOrThrow(t,"futimes").node).atime=new Date(1e3*e),t.mtime=new Date(1e3*r)},t.prototype.futimesSync=function(t,e,r){this.futimesBase(t,I(e),I(r))},t.prototype.futimes=function(t,e,r,n){this.wrapAsync(this.futimesBase,[t,I(e),I(r)],n)},t.prototype.utimesBase=function(t,e,r){t=this.openSync(t,"r+");try{this.futimesBase(t,e,r)}finally{this.closeSync(t)}},t.prototype.utimesSync=function(t,e,r){this.utimesBase(l(t),I(e),I(r))},t.prototype.utimes=function(t,e,r,n){this.wrapAsync(this.utimesBase,[l(t),I(e),I(r)],n)},t.prototype.mkdirBase=function(t,e){var r=p(t);if(!r.length)throw s("EISDIR","mkdir",t);var n=this.getLinkParentAsDirOrThrow(t,"mkdir");if(r=r[r.length-1],n.getChild(r))throw s("EEXIST","mkdir",t);n.createChild(r,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){t=p(t);for(var r=this.root,n=0;n<t.length;n++){var i=t[n];if(!r.getNode().isDirectory())throw s("ENOTDIR","mkdir",r.getPath());var o=r.getChild(i);if(o){if(!o.getNode().isDirectory())throw s("ENOTDIR","mkdir",o.getPath());r=o}else r=r.createChild(i,this.createNode(!0,e))}},t.prototype.mkdirSync=function(t,e){var r=E((e=o(e)).mode,511);t=l(t),e.recursive?this.mkdirpBase(t,r):this.mkdirBase(t,r)},t.prototype.mkdir=function(t,e,r){var n=o(e);e=h("function"==typeof e?e:r),r=E(n.mode,511),t=l(t),n.recursive?this.wrapAsync(this.mkdirpBase,[t,r],e):this.wrapAsync(this.mkdirBase,[t,r],e)},t.prototype.mkdirpSync=function(t,e){this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,r){var n="function"==typeof e?void 0:e;e=h("function"==typeof e?e:r),this.mkdir(t,{mode:n,recursive:!0},e)},t.prototype.mkdtempBase=function(t,e,r){void 0===r&&(r=5);var n=t+this.genRndStr();try{return this.mkdirBase(n,511),jo.strToEncoding(n,e)}catch(n){if("EEXIST"===n.code){if(1<r)return this.mkdtempBase(t,e,r-1);throw Error("Could not create temp dir.")}throw n}},t.prototype.mkdtempSync=function(t,e){if(e=z(e).encoding,!t||"string"!=typeof t)throw new TypeError("filename prefix is required");return g(t),this.mkdtempBase(t,e)},t.prototype.mkdtemp=function(t,e,r){if(e=(r=X(e,r))[0].encoding,r=r[1],!t||"string"!=typeof t)throw new TypeError("filename prefix is required");g(t)&&this.wrapAsync(this.mkdtempBase,[t,e],r)},t.prototype.rmdirBase=function(t,e){e=L({},ot,e);var r=this.getLinkAsDirOrThrow(t,"rmdir");if(r.length&&!e.recursive)throw s("ENOTEMPTY","rmdir",t);this.deleteLink(r)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(l(t),e)},t.prototype.rmdir=function(t,e,r){var n=L({},ot,e);e=h("function"==typeof e?e:r),this.wrapAsync(this.rmdirBase,[l(t),n],e)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,E(e))},t.prototype.fchmod=function(t,e,r){this.wrapAsync(this.fchmodBase,[t,E(e)],r)},t.prototype.chmodBase=function(t,e){t=this.openSync(t,"r+");try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.chmodSync=function(t,e){e=E(e),t=l(t),this.chmodBase(t,e)},t.prototype.chmod=function(t,e,r){e=E(e),t=l(t),this.wrapAsync(this.chmodBase,[t,e],r)},t.prototype.lchmodBase=function(t,e){t=this.openBase(t,D,0,!1);try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.lchmodSync=function(t,e){e=E(e),t=l(t),this.lchmodBase(t,e)},t.prototype.lchmod=function(t,e,r){e=E(e),t=l(t),this.wrapAsync(this.lchmodBase,[t,e],r)},t.prototype.fchownBase=function(t,e,r){this.getFileByFdOrThrow(t,"fchown").chown(e,r)},t.prototype.fchownSync=function(t,e,r){m(e),A(r),this.fchownBase(t,e,r)},t.prototype.fchown=function(t,e,r,n){m(e),A(r),this.wrapAsync(this.fchownBase,[t,e,r],n)},t.prototype.chownBase=function(t,e,r){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,r)},t.prototype.chownSync=function(t,e,r){m(e),A(r),this.chownBase(l(t),e,r)},t.prototype.chown=function(t,e,r,n){m(e),A(r),this.wrapAsync(this.chownBase,[l(t),e,r],n)},t.prototype.lchownBase=function(t,e,r){this.getLinkOrThrow(t,"lchown").getNode().chown(e,r)},t.prototype.lchownSync=function(t,e,r){m(e),A(r),this.lchownBase(l(t),e,r)},t.prototype.lchown=function(t,e,r,n){m(e),A(r),this.wrapAsync(this.lchownBase,[l(t),e,r],n)},t.prototype.watchFile=function(t,e,r){t=l(t);var n=e;if("function"==typeof n&&(r=e,n=null),"function"!=typeof r)throw Error('"watchFile()" requires a listener function');e=5007;var i=!0;return n&&"object"==typeof n&&("number"==typeof n.interval&&(e=n.interval),"boolean"==typeof n.persistent&&(i=n.persistent)),(n=this.statWatchers[t])||((n=new this.StatWatcher).start(t,i,e),this.statWatchers[t]=n),n.addListener("change",r),n},t.prototype.unwatchFile=function(t,e){t=l(t);var r=this.statWatchers[t];r&&("function"==typeof e?r.removeListener("change",e):r.removeAllListeners("change"),0===r.listenerCount("change")&&(r.stop(),delete this.statWatchers[t]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,r){t=l(t);var n=e;"function"==typeof e&&(r=e,n=null);var i=z(n);e=i.persistent,n=i.recursive,i=i.encoding,void 0===e&&(e=!0),void 0===n&&(n=!1);var o=new this.FSWatcher;return o.start(t,e,n,i),r&&o.addListener("change",r),o},t.fd=2147483647,t}(),e.Volume=t;var ct,lt=function(t){function e(e){var r=t.call(this)||this;return r.onInterval=function(){try{var t=r.vol.statSync(r.filename);r.hasChanged(t)&&(r.emit("change",t,r.prev),r.prev=t)}finally{r.loop()}},r.vol=e,r}return R(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=5007),this.filename=l(t),this.setTimeout=e?setTimeout:us.default,this.interval=r,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),ts.default.nextTick(v,this)},e}(rs.EventEmitter);e.StatWatcher=lt,vo.inherits(w,Zs.Readable),e.ReadStream=w,w.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,(function(e,r){e?(t.autoClose&&t.destroy&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))},w.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",(function(){this._read(t)}));if(!this.destroyed){(!ct||128>ct.length-ct.used)&&((ct=Ni.bufferAllocUnsafe(this._readableState.highWaterMark)).used=0);var e=ct,r=Math.min(ct.length-ct.used,t),n=ct.used;if(void 0!==this.pos&&(r=Math.min(this.end-this.pos+1,r)),0>=r)return this.push(null);var i=this;this._vol.read(this.fd,ct,ct.used,r,this.pos,(function(t,r){t?(i.autoClose&&i.destroy&&i.destroy(),i.emit("error",t)):(t=null,0<r&&(i.bytesRead+=r,t=e.slice(n,n+r)),i.push(t))})),void 0!==this.pos&&(this.pos+=r),ct.used+=r}},w.prototype._destroy=function(t,e){this.close((function(r){e(t||r)}))},w.prototype.close=function(t){var e=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",T):ts.default.nextTick((function(){return e.emit("close")}));this.closed=!0,this._vol.close(this.fd,(function(t){t?e.emit("error",t):e.emit("close")})),this.fd=null},vo.inherits(b,Zs.Writable),e.WriteStream=b,b.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(t,e){t?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",t)):(this.fd=e,this.emit("open",e))}.bind(this))},b.prototype._write=function(t,e,r){if(!(t instanceof Ni.Buffer))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",(function(){this._write(t,e,r)}));var n=this;this._vol.write(this.fd,t,0,t.length,this.pos,(function(t,e){if(t)return n.autoClose&&n.destroy&&n.destroy(),r(t);n.bytesWritten+=e,r()})),void 0!==this.pos&&(this.pos+=t.length)},b.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",(function(){this._writev(t,e)}));for(var r=this,n=t.length,i=Array(n),o=0,s=0;s<n;s++){var a=t[s].chunk;i[s]=a,o+=a.length}n=Ni.Buffer.concat(i),this._vol.write(this.fd,n,0,n.length,this.pos,(function(t,n){if(t)return r.destroy&&r.destroy(),e(t);r.bytesWritten+=n,e()})),void 0!==this.pos&&(this.pos+=o)},b.prototype._destroy=w.prototype._destroy,b.prototype.close=w.prototype.close,b.prototype.destroySoon=b.prototype.end;var pt=function(t){function e(e){var r=t.call(this)||this;return r._filename="",r._filenameEncoded="",r._recursive=!1,r._encoding=jo.ENCODING_UTF8,r._onNodeChange=function(){r._emit("change")},r._onParentChild=function(t){t.getName()===r._getName()&&r._emit("rename")},r._emit=function(t){r.emit("change",t,r._filenameEncoded)},r._persist=function(){r._timer=setTimeout(r._persist,1e6)},r._vol=e,r}return R(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,r,n){void 0===e&&(e=!0),void 0===r&&(r=!1),void 0===n&&(n=jo.ENCODING_UTF8),this._filename=l(t),this._steps=p(this._filename),this._filenameEncoded=jo.strToEncoding(this._filename),this._recursive=r,this._encoding=n;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(t){throw(e=Error("watch "+this._filename+" "+t.code)).code=t.code,e.errno=t.code,e}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(t=this._link.parent)&&(t.setMaxListeners(t.getMaxListeners()+1),t.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(rs.EventEmitter);e.FSWatcher=pt}));Un(Pa);var Wa=Pa.pathToFilename,Da=Pa.filenameToSteps,Ba=Pa.Volume,Fa=Mn((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),e.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),e.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")}));Un(Fa);var Ua=Mn((function(t,e){function r(t){for(var e={F_OK:s,R_OK:a,W_OK:f,X_OK:u,constants:kn.constants,Stats:Hn.default,Dirent:Vo.default},r=0,n=i;r<n.length;r++){var h=n[r];"function"==typeof t[h]&&(e[h]=t[h].bind(t))}for(r=0,n=o;r<n.length;r++)"function"==typeof t[h=n[r]]&&(e[h]=t[h].bind(t));return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=Pa.toUnixTimestamp,e}var n=Fn&&Fn.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=Fa.fsSyncMethods,o=Fa.fsAsyncMethods,s=kn.constants.F_OK,a=kn.constants.R_OK,f=kn.constants.W_OK,u=kn.constants.X_OK;e.Volume=Pa.Volume,e.vol=new Pa.Volume,e.createFsFromVolume=r,e.fs=r(e.vol),t.exports=n(n({},t.exports),e.fs),t.exports.semantic=!0}));Un(Ua);var Ma=Ua.createFsFromVolume;fs.prototype.emit=function(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];i=this.listeners(t);try{for(var o=Wn(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.apply(void 0,Bn(n))}catch(t){console.error(t)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0<i.length};var ka=function(){function t(){this.volume=new Ba,this.fs=Ma(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return t.prototype._toJSON=function(t,e,r){void 0===e&&(e={});var n,i=!0;for(n in t.children){i=!1;var o=t.getChild(n);if(o){var s=o.getNode();s&&s.isFile()?(o=o.getPath(),r&&(o=zo(r,o)),e[o]=s.getBuffer()):s&&s.isDirectory()&&this._toJSON(o,e,r)}}return t=t.getPath(),r&&(t=zo(r,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,r){var n,i;void 0===e&&(e={}),void 0===r&&(r=!1);var o=[];if(t){t instanceof Array||(t=[t]);try{for(var s=Wn(t),a=s.next();!a.done;a=s.next()){var f=Wa(a.value),u=this.volume.getResolvedLink(f);u&&o.push(u)}}catch(t){var h={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(h)throw h.error}}}else o.push(this.volume.root);if(!o.length)return e;try{for(var c=Wn(o),l=c.next();!l.done;l=c.next())u=l.value,this._toJSON(u,e,r?u.getPath():"")}catch(t){var p={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(p)throw p.error}}return e},t.prototype.fromJSONFixed=function(t,e){for(var r in e){var n=e[r];if(n?null!==Object.getPrototypeOf(n):null!==n){var i=Da(r);1<i.length&&(i="/"+i.slice(0,i.length-1).join("/"),t.mkdirpBase(i,511)),t.writeFileSync(r,n||"")}else t.mkdirpBase(r,511)}},t.prototype.fromJSON=function(t){this.volume=new Ba,this.fromJSONFixed(this.volume,t),this.fs=Ma(this.volume),this.volume.releasedFds=[0,1,2],t=this.volume.openSync("/dev/stderr","w");var e=this.volume.openSync("/dev/stdout","w"),r=this.volume.openSync("/dev/stdin","r");if(2!==t)throw Error("invalid handle for stderr: "+t);if(1!==e)throw Error("invalid handle for stdout: "+e);if(0!==r)throw Error("invalid handle for stdin: "+r)},t.prototype.getStdOut=function(){return function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{f(n.next(t))}catch(t){o(t)}}function a(t){try{f(n.throw(t))}catch(t){o(t)}}function f(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(s,a)}f((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t=this;return function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;f;)try{if(i=1,o&&(s=2&r[0]?o.return:r[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;switch(o=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return f.label++,{value:r[1],done:!1};case 5:f.label++,o=r[1],r=[0];continue;case 7:r=f.ops.pop(),f.trys.pop();continue;default:if(!((s=0<(s=f.trys).length&&s[s.length-1])||6!==r[0]&&2!==r[0])){f=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3]))f.label=r[1];else if(6===r[0]&&f.label<s[1])f.label=s[1],s=r;else{if(!(s&&f.label<s[2])){s[2]&&f.ops.pop(),f.trys.pop();continue}f.label=s[2],f.ops.push(r)}}r=e.call(t,f)}catch(t){r=[6,t],o=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,s,a,f={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,(function(){return[2,new Promise((function(e){e(t.fs.readFileSync("/dev/stdout","utf8"))}))]}))}))},t}();let Ga;var Ha;let xa;o.register("kPq84",(function(e,r){var n;t(e.exports,"getBundleURL",(()=>n),(t=>n=t));var i={};function o(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var e=i[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return o(t[2])}return"/"}(),i[t]=e),e}})),Ha=o("kPq84").getBundleURL("da2qu")+o("bXuNP").resolve("bktC1");let Ya,ja,Va,Ka,qa,za,Xa,Ja,Za,$a=null,Qa=[],tf=44100,ef=null,rf=null;let nf,of,sf,af,ff,uf,hf,cf,lf=null,pf=null;hf=document.getElementById("screen"),hf.setAttribute("width",768),hf.setAttribute("height",576),(window.devicePixelRatio?window.devicePixelRatio:1)>1&&window.screen.width<768&&(hf.style.width="320px",hf.style.heigth="240px"),cf=hf.getContext("2d"),function(){if(""!=location.hash){const t=location.hash.match(/^#s=(\d+)/);null!=t&&(tf=parseInt(t[1]),(tf!=tf||44100!=tf&&48e3!=tf&&88200!=tf&&96e3!=tf)&&(tf=44100))}}(),function(){ef=new(window.AudioContext||window.webkitAudioContext)({sampleRate:tf});const t=ef.createScriptProcessor(0,2,2);Ka=t?t.bufferSize:2048,ef=null,qa=2*tf/Ka}(),async function(){const t=await async function(){Ga=new be({args:[""],env:{},bindings:{...e(Re),fs:new ka}});const t=await fetch(new URL(Ha)),r=new Uint8Array(await t.arrayBuffer());let n=await WebAssembly.compile(r),i=Ga.getImports(n);i["./libymfm_bg.js"]=await Promise.resolve(o("7uvfJ"));const s=await WebAssembly.instantiate(n,{...i});return Ga.start(s),s.exports}();s.setWasmExport(t),console.log(t),xa=t.memory;const r=await fetch("./vgm/ym2612.vgm"),n=await r.arrayBuffer();If(n),hf.addEventListener("click",Af,!1),hf.addEventListener("dragover",(function(t){return yf(t),hf.style.border="4px dotted #333333",!1}),!1),hf.addEventListener("dragleave",(function(t){return yf(t),hf.style.border="none",!1})),hf.addEventListener("drop",gf,!1),ja=1,Va=Sf({track_name:"WebAssembly 👾 VGM Player",track_name_j:"",game_name:"",game_name_j:"YM2612 sample VGM",track_author:"@h1romas4",track_author_j:""}),_f()}();const df=function(t,e){let r=(768-cf.measureText(t).width)/2;cf.fillText(t,r,e)},_f=function(){cf.fillStyle="rgb(0, 0, 0)",cf.fillRect(0,0,768,576),cf.font="bold 28px sans-serif",cf.fillStyle="#e60012",df("WebAssembly 🎮 VGM Player",160),cf.fillStyle="#00a040",cf.font="15px sans-serif",df("YM2151 | YM2203 | YM2149 | YM2413 | YM2612 | SN76489(MD) | PWM(32x) | SEGAPCM",224),cf.font="20px sans-serif",df("🎵 DRAG AND DROP VGM(vgm/vgz) HEAR",256),df("OR CLICK(TAP) TO PLAY SAMPLE VGM",320),wf()},yf=function(t){t.preventDefault(),t.stopPropagation()},gf=function(t){yf(t),hf.removeEventListener("drop",gf,!1),hf.style.border="none";let e={},r=t.dataTransfer.files;return[].forEach.call(r,(function(t){let n=new FileReader;n.onload=function(){e[t.name]=n.result,Object.keys(e).length>=r.length&&(hf.addEventListener("drop",gf,!1),Qa=[],Object.keys(e).sort().forEach((function(t){Qa.push(e[t])})),ja=Qa.length,Ef())},n.readAsArrayBuffer(t)})),!1},Ef=function(){Qa.length<=0||(If(Qa.shift())?Af():Ef())},Sf=function(t){return t.game_track_name=[t.game_name,t.track_name].filter((t=>""!=t)).join(" | "),t.game_track_name_j=[t.game_name_j,t.track_name_j].filter((t=>""!=t)).join(" / "),t.track_author_full=[t.track_author,t.track_author_j].filter((t=>""!=t)).join(" - "),cf.font="16px sans-serif",t.game_track_name_left=(768-cf.measureText(t.game_track_name).width)/2,t.game_track_name_j_left=(768-cf.measureText(t.game_track_name_j).width)/2,t.track_author_full_left=(768-cf.measureText(t.track_author_full).width)/2,t},If=function(t){if(null!=$a&&$a.free(),$a=new s.WgmPlay(tf,Ka,t.byteLength),Ya=new Uint8Array(xa.buffer,$a.get_seq_data_ref(),t.byteLength),Ya.set(new Uint8Array(t)),!$a.init())return $a.free(),$a=null,!1;Va=Sf(JSON.parse($a.get_seq_gd3())),nf=[],of=[],af=0,ff=0,uf=null,null!=lf&&(clearInterval(lf),lf=null);let e=!1,r=0;return sf=!1,lf=setInterval((()=>{let t;e&&clearInterval(lf);try{if(nf.length<10&&!e){t=$a.play();let n=new Float32Array(Ka),i=new Float32Array(Ka);n.set(new Float32Array(xa.buffer,$a.get_sampling_l_ref(),Ka)),i.set(new Float32Array(xa.buffer,$a.get_sampling_r_ref(),Ka)),nf.push(n),of.push(i),nf.length>=10&&(sf=!0),t>=2&&(0==r&&t>2?e=!0:(0==r&&(uf=ff),r++,r>qa&&(e=!0))),ff++}}catch(t){alert(`ymfm:\n\nAn unexpected error has occurred. System has stoped. Please reload brwoser.\n\n${t}`),e=!0}}),Ka/tf/2*1e3),!0},mf=function(){null!=Xa&&Xa.disconnect(),null!=za&&za.disconnect(),null!=rf&&rf.disconnect(),Xa=null,rf=null,za=null},Af=function(){hf.removeEventListener("click",Af,!1),mf(),null==ef&&(ef=new(window.AudioContext||window.webkitAudioContext)({sampleRate:tf})),rf=ef.createScriptProcessor(Ka,2,2),rf.onaudioprocess=t=>{1==sf&&nf.length>0?(t.outputBuffer.getChannelData(0).set(nf[0]),t.outputBuffer.getChannelData(1).set(of[0]),nf.shift(),of.shift(),af==uf&&(za.gain.setValueAtTime(1,ef.currentTime),za.gain.linearRampToValueAtTime(0,ef.currentTime+2)),af++):1==sf&&0==nf.length&&(mf(),Ef())},za=ef.createGain(),rf.connect(za),za.connect(ef.destination),za.gain.setValueAtTime(1,ef.currentTime),Xa=ef.createAnalyser(),Za=Xa.frequencyBinCount,Ja=new Uint8Array(Za),Xa.getByteTimeDomainData(Ja),za.connect(Xa),null!=pf&&(window.cancelAnimationFrame(pf),pf=null),vf()},vf=function(){if(pf=window.requestAnimationFrame(vf),cf.fillStyle="rgb(0, 0, 0)",cf.fillRect(0,0,768,576),null!=Xa){Xa.getByteFrequencyData(Ja),cf.lineWidth=1,cf.beginPath(),cf.strokeStyle="#e60012";let e=4,r=Math.round(Za/(768/e));cf.setLineDash([2,1]),cf.lineWidth=e;for(var t=0;t<Za;t+=r)cf.beginPath(),cf.moveTo(t+2,576),cf.lineTo(t+2,576-1.5*Ja[t]),cf.stroke();cf.stroke()}cf.font="12px monospace",cf.fillStyle="#00a040",ja>=1&&df("Track "+(ja-Qa.length)+" / "+ja,192),cf.font="16px sans-serif",cf.fillText(Va.game_track_name,Va.game_track_name_left,224),cf.fillText(Va.game_track_name_j,Va.game_track_name_j_left,256),cf.fillText(Va.track_author_full,Va.track_author_full_left,288),wf()},wf=function(){if(44100==tf)return;const t=" HD:"+tf+" ";cf.font="16px sans-serif";const e=cf.measureText(t);cf.fillStyle="#00a040",cf.fillRect(768-e.width,0,768,18),cf.fillStyle="rgb(0, 0, 0)",cf.fillText(t,768-e.width,16)};
//# sourceMappingURL=index.e1d9e37e.js.map
